(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{1210:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(82394),i=n(21831),u=n(82684),o=n(47999),s=n(49894),l=n(93461),a=n(57384),c=n(12344),d=n(72454),f=n(28598);function p(e,t){var n=e.children;return(0,f.jsx)(d.HS,{ref:t,children:n})}var v=u.forwardRef(p),h=n(32063),b=n(15270),j=n(82531),O=n(66166),g=n(3055),m=n(49125),x=n(91427),w=n(24141);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t,n=e.after,r=e.afterHidden,p=e.afterWidth,P=e.afterWidthOverride,Z=e.before,_=e.beforeWidth,E=e.breadcrumbs,C=e.children,D=e.errors,I=e.headerMenuItems,k=e.navigationItems,M=e.setErrors,N=e.subheaderChildren,S=e.title,A=e.uuid,R=(0,w.i)().width,W="dashboard_after_width_".concat(A),F="dashboard_before_width_".concat(A),H=(0,u.useRef)(null),L=(0,u.useState)(P?p:(0,x.U2)(W,p)),T=L[0],U=L[1],B=(0,u.useState)(!1),Q=B[0],V=B[1],z=(0,u.useState)(Z?Math.max((0,x.U2)(F,_),13*m.iI):null),X=z[0],G=z[1],q=(0,u.useState)(!1),J=q[0],K=q[1],Y=(0,u.useState)(null)[1],$=j.ZP.projects.list({},{revalidateOnFocus:!1}).data,ee=null===$||void 0===$?void 0:$.projects,te=[];E?te.push.apply(te,(0,i.Z)(E)):(null===ee||void 0===ee?void 0:ee.length)>=1&&te.push.apply(te,[{label:function(){var e;return null===(e=ee[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return S}}]),(0,u.useEffect)((function(){null===H||void 0===H||!H.current||Q||J||null===Y||void 0===Y||Y(H.current.getBoundingClientRect().width)}),[Q,T,J,X,H,Y,R]),(0,u.useEffect)((function(){Q||(0,x.t8)(W,T)}),[r,Q,T,W]),(0,u.useEffect)((function(){J||(0,x.t8)(F,X)}),[J,X,F]);var ne=(0,O.Z)(p);return(0,u.useEffect)((function(){P&&ne!==p&&U(p)}),[P,p,ne]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:S}),(0,f.jsx)(c.Z,{breadcrumbs:te,menuItems:I,project:null===ee||void 0===ee?void 0:ee[0],version:null===ee||void 0===ee||null===(t=ee[0])||void 0===t?void 0:t.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===k||void 0===k?void 0:k.length)&&(0,f.jsx)(d.lm,{children:(0,f.jsx)(b.Z,{navigationItems:k})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:n,afterHeightOffset:g.Mz,afterHidden:r,afterMousedownActive:Q,afterWidth:T,before:Z,beforeHeightOffset:g.Mz,beforeMousedownActive:J,beforeWidth:d.k1+(Z?X:0),hideAfterCompletely:!0,leftOffset:Z?d.k1:null,mainContainerRef:H,setAfterMousedownActive:V,setAfterWidth:U,setBeforeMousedownActive:K,setBeforeWidth:G,children:[N&&(0,f.jsx)(v,{children:N}),C]})})]}),D&&(0,f.jsx)(o.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===M||void 0===M?void 0:M(null)},children:(0,f.jsx)(s.Z,y(y({},D),{},{onClose:function(){return null===M||void 0===M?void 0:M(null)}}))})]})}},66050:function(e,t,n){"use strict";var r;n.d(t,{V:function(){return r}}),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.FAILED="failed",e.INITIAL="initial",e.RUNNING="running"}(r||(r={}))},92597:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(82394),u=n(38860),o=n.n(u),s=n(82684),l=n(34376),a=n(1210),c=n(67971),d=n(51099),f=n(97496),p=n(41788),v=n(55378),h=n(86673),b=n(19711),j=n(82531),O=n(47409),g=n(66050),m=n(49125),x=n(33766),w=n(59e3),P=n(28598);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){var e=(0,l.useRouter)(),t=(0,s.useState)(null),n=t[0],r=t[1],i=(0,w.iV)(),u=null!==i&&void 0!==i&&i.page?i.page:0,o={_limit:d.Q,_offset:u*d.Q};null!==i&&void 0!==i&&i.status&&(o.status=i.status);var p=j.ZP.pipeline_runs.list(o,{refreshInterval:3e3,revalidateOnFocus:!0}),y=p.data,_=p.mutate,E=(0,s.useMemo)((function(){return(null===y||void 0===y?void 0:y.pipeline_runs)||[]}),[y]),C=(0,s.useMemo)((function(){var e;return(null===y||void 0===y||null===(e=y.metadata)||void 0===e?void 0:e.count)||[]}),[y]);return(0,P.jsxs)(a.Z,{errors:n,setErrors:r,title:"Pipeline runs",uuid:"pipeline_runs/index",children:[(0,P.jsx)(h.Z,{mx:2,my:1,children:(0,P.jsxs)(c.Z,{alignItems:"center",children:[(0,P.jsx)(b.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}),(0,P.jsx)(h.Z,{mr:1}),(0,P.jsxs)(v.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(t){t.preventDefault(),"all"===t.target.value?e.push("/pipeline-runs"):(0,x.u7)({page:0,status:t.target.value})},paddingRight:4*m.iI,placeholder:"Select run status",value:(null===i||void 0===i?void 0:i.status)||"all",children:[(0,P.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),Object.values(g.V).map((function(e){return(0,P.jsx)("option",{value:e,children:O.D[e]},e)}))]})]})}),(0,P.jsx)(f.Z,{fetchPipelineRuns:_,pipelineRuns:E,setErrors:r}),(0,P.jsx)(h.Z,{p:2,children:(0,P.jsx)(d.Z,{maxPages:9,onUpdate:function(t){var n=Number(t),r=Z(Z({},i),{},{page:n>=0?n:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,w.uM)(r)))},page:Number(u),totalPages:Math.ceil(C/d.Q)})})]})}_.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,p.Z)(_)},60710:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return n(92597)}])}},function(e){e.O(0,[3850,2083,2344,9386,6166,8180,4178,9774,2888,179],(function(){return t=60710,e(e.s=t);var t}));var t=e.O();_N_E=t}]);