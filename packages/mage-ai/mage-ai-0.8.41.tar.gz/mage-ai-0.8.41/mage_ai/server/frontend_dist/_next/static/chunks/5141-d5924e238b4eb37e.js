"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5141],{33699:function(n,t,e){e.d(t,{Z:function(){return I}});var r=e(89565),i=e.n(r),o=e(82684),a=e(47999),c=e(82635),u=e(19711),s=e(9518),l=e(23831),d=e(49125),f=e(37391),p=(0,s.css)([""," ",""],(function(n){return!n.width&&"\n    width: 100%;\n  "}),(function(n){return n.width&&"\n    width: ".concat(n.width,"px;\n  ")})),g=s.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-11d4rgl-0"})([""," "," height:100%;overflow:auto;position:absolute;",""],p,f.w5,(function(n){return"\n    background-color: ".concat((n.theme.background||l.Z.background).codeTextarea,";\n  ")})),h=s.default.div.withConfig({displayName:"indexstyle__InnerStyle",componentId:"sc-11d4rgl-1"})([""," padding:","px;"],p,d.cd*d.iI),y=(s.default.div.withConfig({displayName:"indexstyle__LineStyle",componentId:"sc-11d4rgl-2"})(["height:","px;"],20),(0,s.css)(["@keyframes cursor-blink{0%{opacity:0;}}::before{","}::after{","}"],(function(n){return n.focusBeginning&&"\n      position: absolute;\n      background-color: ".concat((n.theme.accent||l.Z.accent).warning,';\n      content: "";\n      display: inline-block;\n      height: ').concat(20,"px;\n      width: ").concat(d.iI,"px;\n      opacity: 0.3;\n    ")}),(function(n){return n.focused&&"\n      background-color: ".concat((n.theme.accent||l.Z.accent).warning,';\n      content: "";\n      display: inline-block;\n      height: ').concat(20,"px;\n      width: ").concat(d.iI,"px;\n      opacity: 0.3;\n    ")}))),v=s.default.div.withConfig({displayName:"indexstyle__InputStyle",componentId:"sc-11d4rgl-3"})(["align-items:center;display:flex;gap:2px;",""],y),m=s.default.span.withConfig({displayName:"indexstyle__CharacterStyle",componentId:"sc-11d4rgl-4"})([""," ::after{","}"],y,(function(n){return n.focused&&"\n      position: absolute;\n    "})),b=e(16115),S=e(51504),x=e(66653),T=e(41150),w=e(28598);function P(n,t){var e="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"===typeof n)return E(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return E(n,t)}(n))||t&&n&&"number"===typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){c=!0,o=n},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw o}}}}function E(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var I=function(n){var t=n.interruptKernel,e=n.lastMessage,r=n.onFocus,s=n.sendMessage,l=n.uuid,d=void 0===l?"terminal":l,f=n.width,p=(0,o.useRef)(null),y=(0,o.useRef)(null),E=(0,o.useState)(""),I=E[0],k=E[1],A=(0,o.useState)(0),N=A[0],C=A[1],_=(0,o.useState)(""),j=_[0],O=_[1],M=(0,o.useState)(0),R=M[0],Z=M[1],G=(0,o.useState)([]),U=G[0],X=G[1],F=(0,o.useState)(!1),Y=F[0],D=F[1],L=(0,o.useState)([]),K=(L[0],L[1]),Q=(0,o.useState)(),B=Q[0],H=Q[1];(0,o.useEffect)((function(){if(e){var n=JSON.parse(e.data);H((function(t){var e=t||"";return"stdout"===n[0]?e+n[1]:e}))}}),[e]);var z=(0,o.useMemo)((function(){return B?B.split("\n").filter((function(n){return!n.includes("# Mage terminal settings command")})).map((function(n){return{data:n,type:c.Gi.TEXT}})):[]}),[B]);(0,o.useEffect)((function(){if(p.current&&y.current){var n=y.current.getBoundingClientRect().height;p.current.scrollTo(0,n)}}),[z,p,y]);var J=(0,T.y)(),V=J.registerOnKeyDown,q=J.setDisableGlobalKeyboardShortcuts,$=J.unregisterOnKeyDown;(0,o.useEffect)((function(){return function(){$(d)}}),[$,d]);var W=(0,o.useCallback)((function(){Z((function(n){return n>0?n-1:n}))}),[]),nn=(0,o.useCallback)((function(){Z((function(n){return n<=I.length?n+1:n}))}),[I]),tn=(0,o.useCallback)((function(n){var t=(null===n||void 0===n?void 0:n.split(/\n/))||[];if(t.length>1){var e=t.slice(0,-1);e[0]=I+e[0];var r=e.map((function(n,t){return{command:0===t,data:n,type:c.Gi.TEXT}}));C(U.length+e.length),X((function(n){return n.concat(e)})),K((function(n){return n.concat(r)})),O((function(n){return n+e.join("\n")}));var i=(t.slice(-1)[0]||"").trim();k(i),Z(i.length)}else k((function(t){return t+n})),Z(I.length+n.length)}),[I,U]);V(d,(function(n,t,e){var r=n.code,i=n.key;if(Y)if((0,x.j)(n),(0,S.y)([b.PQ,b.VS],t)){var o=j+I;(null===o||void 0===o?void 0:o.length)>=0&&(s(JSON.stringify(["stdin",o])),s(JSON.stringify(["stdin","\x03"])),Z(0)),O(""),k("")}else if(b.Qj!==r||t[b.zX])if((0,S.y)([b.QK],t))W();else if((0,S.y)([b.DY],t))nn();else if((0,S.y)([b.Bu],t)){if(U.length>=1){var a,c=Math.max(0,N-1);k(U[c]),C(c),Z((null===(a=U[c])||void 0===a?void 0:a.length)||0)}}else if((0,S.y)([b.kD],t)){if(U.length>=1){var u=Math.min(U.length,N+1),l=U[u]||"";k(l),C(u),Z(l.length)}}else if((0,S.y)([b.Uq],t)){var d=j+I;s(JSON.stringify(["stdin",d])),s(JSON.stringify(["stdin","\r"])),(null===d||void 0===d?void 0:d.length)>=2&&(C(U.length+1),X((function(n){return n.concat(I)})),Z(0)),O(""),k("")}else if((0,S.y)([b.zX,b.VS],t))navigator.clipboard.writeText(window.getSelection().toString());else if((0,S.y)([b.zX,b.Pd],t)||(0,S.y)([b.PQ,b.Pd],t)){var f,p,g,h,y;"undefined"===typeof(null===(f=navigator)||void 0===f?void 0:f.clipboard)?alert('Clipboard pasting is not allowed in insecure contexts. If your Mage deployment is not secure but you still want to use clipboard paste, you can override this setting (which should only be done temporarily) on Chrome browsers by going to "chrome://flags/#unsafely-treat-insecure-origin-as-secure", adding your origin to "Insecure origins treated as secure", and enabling that setting.'):null!==(p=navigator)&&void 0!==p&&null!==(g=p.clipboard)&&void 0!==g&&g.readText?navigator.clipboard.readText().then(tn).catch((function(n){return alert("".concat(n,'\n    For Chrome, users need to allow clipboard permissions for this site under "Privacy and security" -> "Site settings".\n    For Safari, users need to allow the clipboard paste by clicking "Paste" in the context menu that appears.'))})):null!==(h=navigator)&&void 0!==h&&null!==(y=h.clipboard)&&void 0!==y&&y.read?navigator.clipboard.read().then((function(n){var t,e=P(n);try{for(e.s();!(t=e.n()).done;){var r,i=t.value,o=P(i.types);try{for(o.s();!(r=o.n()).done;){var a=r.value;if("text/plain"===a)return i.getType(a)}}catch(c){o.e(c)}finally{o.f()}}}catch(c){e.e(c)}finally{e.f()}})).then((function(n){return n.text()})).then(tn).catch((function(n){return alert("".concat(n,'\n    For Firefox, users need to allow clipboard paste by setting the "dom.events.asyncClipboard.read" preference in "about:config" to "true" and clicking "Paste" in the context menu that appears.'))})):alert('If pasting is not working properly, you may need to adjust some settings in your browser.\n\n    For Firefox, users need to allow clipboard paste by setting both the "dom.events.asyncClipboard.clipboardItem" and "dom.events.asyncClipboard.read" preferences in "about:config" to "true" and clicking "Paste" in the context menu that appears.\n    For Chrome, users need to allow clipboard permissions for this site under "Privacy and security" -> "Site settings".\n    For Safari, users need to allow the clipboard paste by clicking "Paste" in the context menu that appears.\n')}else t[b.zX]||t[b.PQ]||1!==i.length||(k((function(n){return n.slice(0,R)+i+n.slice(R)})),nn());else{var v=Math.max(0,R-1);k((function(n){return n.slice(0,v)+n.slice(R)})),Z((function(n){return Math.max(0,n-1)}))}}),[I,U,N,Y,t,k,X,C,K,d]);var en=(0,o.useMemo)((function(){var n;return null===(n=z[z.length-1])||void 0===n?void 0:n.data}),[z]);return(0,w.jsx)(g,{ref:p,width:f,children:(0,w.jsx)(a.Z,{isOpen:!0,onClick:function(){null===r||void 0===r||r(),D(!0),q(!0)},onClickOutside:function(){D(!1),q(!1)},style:{minHeight:"100%"},children:(0,w.jsxs)(h,{ref:y,width:f,children:[null===z||void 0===z?void 0:z.reduce((function(n,t,e){if(e==z.length-1)return n;var r=t||{},o=r.command,a=r.data,s=r.type,l=[];l=(l=Array.isArray(a)?a:[a]).filter((function(n){return n}));var d=[];return l.forEach((function(n,t){var r;if(c.jU.includes(s)&&(r=(0,w.jsx)(u.ZP,{monospace:!0,preWrap:!0,children:n&&(0,w.jsx)(i(),{children:n})})),r){var a="command-".concat(e,"-").concat(t,"-").concat(n);o||d.push((0,w.jsx)("div",{children:r},a))}})),n.concat(d)}),[]),(0,w.jsx)(v,{focused:Y&&(0===(null===I||void 0===I?void 0:I.length)||R>(null===I||void 0===I?void 0:I.length)),children:(0,w.jsxs)(u.ZP,{monospace:!0,children:[(0,w.jsx)(u.ZP,{inline:!0,monospace:!0,children:en&&(0,w.jsx)(i(),{children:en})}),null===I||void 0===I?void 0:I.split("").map((function(n,t){return(0,w.jsxs)(m,{focusBeginning:Y&&0===R&&0===t,focused:Y&&R===t+1,children:[" "===n&&(0,w.jsx)(w.Fragment,{children:"\xa0"})," "!==n&&n]},"command-".concat(t,"-").concat(n))}))]})})]})})})}},82635:function(n,t,e){var r,i;e.d(t,{Gi:function(){return i},jU:function(){return a},uF:function(){return r}}),function(n){n.BUSY="busy",n.IDLE="idle",n.QUEUED="queued"}(r||(r={})),function(n){n.IMAGE_PNG="image/png",n.PROGRESS="progress",n.TABLE="table",n.TEXT="text",n.TEXT_HTML="text/html",n.TEXT_PLAIN="text/plain"}(i||(i={}));var o,a=[i.TEXT,i.TEXT_PLAIN];!function(n){n.DISPLAY_DATA="display_data",n.STATUS="status",n.STREAM="stream",n.STREAM_PIPELINE="stream_pipeline"}(o||(o={}))},98781:function(n,t,e){e.d(t,{$1:function(){return u},G7:function(){return l},QK:function(){return c},a_:function(){return d},qL:function(){return o},r0:function(){return s}});var r,i,o,a=e(82394);!function(n){n.INTEGRATION="integration",n.PYTHON="python",n.PYSPARK="pyspark",n.STREAMING="streaming"}(o||(o={}));var c,u,s,l=(r={},(0,a.Z)(r,o.INTEGRATION,"Integration"),(0,a.Z)(r,o.PYTHON,"Standard"),(0,a.Z)(r,o.PYSPARK,"PySpark"),(0,a.Z)(r,o.STREAMING,"Streaming"),r);!function(n){n.ACTIVE="active",n.INACTIVE="inactive",n.NO_SCHEDULES="no_schedules"}(c||(c={})),function(n){n.GROUP="group_by",n.STATUS="status[]",n.TYPE="type[]"}(u||(u={})),function(n){n.STATUS="status",n.TYPE="type"}(s||(s={}));var d=(i={},(0,a.Z)(i,o.PYTHON,"python3"),(0,a.Z)(i,o.PYSPARK,"pysparkkernel"),i)},51504:function(n,t,e){e.d(t,{y:function(){return o}});var r=e(75582),i=e(16115);function o(n,t){var e=n.map((function(n){return String(n)})),o=n.includes(i.PQ),a=n.includes(i.zX),c=n.includes(i.XR),u=i.xU.map((function(n){return String(n)})),s=i.vk.map((function(n){return String(n)})),l=i.Tr.map((function(n){return String(n)})),d=Object.entries(t).find((function(n){var t=(0,r.Z)(n,2),i=t[0];return t[1]&&!e.includes(String(i))&&(!a||!s.includes(String(i)))&&(!o||!u.includes(String(i)))&&(!c||!l.includes(String(i)))}));return n.every((function(n){return t[n]}))&&!d}}}]);