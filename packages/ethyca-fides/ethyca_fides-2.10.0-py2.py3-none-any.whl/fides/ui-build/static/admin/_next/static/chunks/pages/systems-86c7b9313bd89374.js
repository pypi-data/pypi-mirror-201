(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3785],{44019:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7942:function(e,t,n){"use strict";var r=n(85696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(92648).Z,i=n(17273).Z,s=o(n(67294)),a=n(64957),u=n(57995),c=n(30647),l=n(51992),f=n(90639),d=n(44019),p=n(70227),h={};function y(e,t,n,r){if(e&&a.isLocalURL(t)){Promise.resolve(e.prefetch(t,n,r)).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;h[t+"%"+n+(o?"%"+o:"")]=!0}}var m=s.default.forwardRef((function(e,t){var n,o=e.href,m=e.as,v=e.children,x=e.prefetch,g=e.passHref,j=e.replace,b=e.shallow,O=e.scroll,w=e.locale,C=e.onClick,_=e.onMouseEnter,L=e.onTouchStart,P=e.legacyBehavior,S=void 0===P?!0!==Boolean(!1):P,E=i(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=v,!S||"string"!==typeof n&&"number"!==typeof n||(n=s.default.createElement("a",null,n));var k=!1!==x,D=s.default.useContext(c.RouterContext),R=s.default.useContext(l.AppRouterContext);R&&(D=R);var M,N=s.default.useMemo((function(){var e=a.resolveHref(D,o,!0),t=r(e,2),n=t[0],i=t[1];return{href:n,as:m?a.resolveHref(D,m):i||n}}),[D,o,m]),T=N.href,Z=N.as,B=s.default.useRef(T),z=s.default.useRef(Z);S&&(M=s.default.Children.only(n));var A=S?M&&"object"===typeof M&&M.ref:t,I=f.useIntersection({rootMargin:"200px"}),W=r(I,3),F=W[0],U=W[1],X=W[2],K=s.default.useCallback((function(e){z.current===Z&&B.current===T||(X(),z.current=Z,B.current=T),F(e),A&&("function"===typeof A?A(e):"object"===typeof A&&(A.current=e))}),[Z,A,T,X,F]);s.default.useEffect((function(){var e=U&&k&&a.isLocalURL(T),t="undefined"!==typeof w?w:D&&D.locale,n=h[T+"%"+Z+(t?"%"+t:"")];e&&!n&&y(D,T,Z,{locale:t})}),[Z,T,U,w,k,D]);var G={ref:K,onClick:function(e){S||"function"!==typeof C||C(e),S&&M.props&&"function"===typeof M.props.onClick&&M.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,i,u,c,l,f){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(n)){e.preventDefault();var d=function(){"beforePopState"in t?t[o?"replace":"push"](n,r,{shallow:i,locale:c,scroll:u}):t[o?"replace":"push"](n,{forceOptimisticNavigation:!f})};l?s.default.startTransition(d):d()}}(e,D,T,Z,j,b,O,w,Boolean(R),k)},onMouseEnter:function(e){S||"function"!==typeof _||_(e),S&&M.props&&"function"===typeof M.props.onMouseEnter&&M.props.onMouseEnter(e),!k&&R||a.isLocalURL(T)&&y(D,T,Z,{priority:!0})},onTouchStart:function(e){S||"function"!==typeof L||L(e),S&&M.props&&"function"===typeof M.props.onTouchStart&&M.props.onTouchStart(e),!k&&R||a.isLocalURL(T)&&y(D,T,Z,{priority:!0})}};if(!S||g||"a"===M.type&&!("href"in M.props)){var H="undefined"!==typeof w?w:D&&D.locale,V=D&&D.isLocaleDomain&&d.getDomainLocale(Z,H,D.locales,D.domainLocales);G.href=V||p.addBasePath(u.addLocale(Z,H,D&&D.defaultLocale))}return S?s.default.cloneElement(M,G):s.default.createElement("a",Object.assign({},E,G),n)}));t.default=m,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateContext=t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var r=(0,n(92648).Z)(n(67294)),o=r.default.createContext(null);t.AppRouterContext=o;var i=r.default.createContext(null);t.LayoutRouterContext=i;var s=r.default.createContext(null);t.GlobalLayoutRouterContext=s;var a=r.default.createContext(null);t.TemplateContext=a},58144:function(e,t,n){"use strict";var r=n(59499),o=n(43871),i=n(68527),s=n(15193),a=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,u=e.title,l=e.message,f=e.cancelButtonText,d=e.cancelButtonThemingProps,p=e.continueButtonText,h=e.continueButtonThemingProps,y=e.isLoading,m=e.returnFocusOnClose,v=e.isCentered,x=e.testId,g=void 0===x?"confirmation-modal":x;return(0,a.jsxs)(o.u_,{isOpen:t,onClose:n,size:"lg",returnFocusOnClose:null===m||void 0===m||m,isCentered:v,children:[(0,a.jsx)(o.ZA,{}),(0,a.jsxs)(o.hz,{textAlign:"center",p:2,"data-testid":g,children:[u?(0,a.jsx)(o.xB,{fontWeight:"medium",children:u}):null,l?(0,a.jsx)(o.fe,{children:l}):null,(0,a.jsx)(o.mz,{children:(0,a.jsxs)(i.MI,{columns:2,width:"100%",children:[(0,a.jsx)(s.zx,c(c({variant:"outline",mr:3,onClick:n,"data-testid":"cancel-btn",isDisabled:y},d),{},{children:f||"Cancel"})),(0,a.jsx)(s.zx,c(c({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:y},h),{},{children:p||"Continue"}))]})})]})]})}},49743:function(e,t,n){"use strict";var r=n(59499),o=n(4730),i=n(4612),s=n(48591),a=n(15193),u=n(85893),c=["search","onChange","withIcon","withClear"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.search,n=e.onChange,r=e.withIcon,l=e.withClear,d=(0,o.Z)(e,c);return(0,u.jsxs)(i.BZ,{size:"sm",minWidth:"308px",children:[r?(0,u.jsx)(i.Z8,{pointerEvents:"none",children:(0,u.jsx)(s.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,u.jsx)(i.II,f({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return n(e.target.value)}},d)),l?(0,u.jsx)(i.xH,{width:"3.5rem",display:"flex",alignItems:"center",children:(0,u.jsx)(a.zx,{fontWeight:"light",size:"sm",onClick:function(){n("")},height:"95%",width:"95%",children:"Clear"})}):null]})}},65698:function(e,t,n){"use strict";n.d(t,{D4:function(){return r.D4},MM:function(){return c},Ot:function(){return s},e$:function(){return i},nU:function(){return u},tB:function(){return a}});var r=n(27396),o="An unexpected error occurred. Please try again.",i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,r.Bw)(e)){if((0,r.hE)(e.data))return e.data.detail;if((0,r.cz)(e.data)){var n,i=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null===i||void 0===i?void 0:i.msg,": ").concat(null===i||void 0===i?void 0:i.loc)}if(409===e.status&&(0,r.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,r.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function s(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function a(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,r.oK)(e))return{status:e.originalStatus,message:e.data};if((0,r.Bw)(e)){var n=e.status;return{status:n,message:i(e,t.message)}}return t},c=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))}},10846:function(e,t,n){"use strict";n.d(t,{MA:function(){return l},Vo:function(){return d},t5:function(){return f}});var r=n(59499),o=n(68527),i=n(85893);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.message;return(0,i.jsxs)(o.xv,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",t]})},c=function(e){var t=e.message;return(0,i.jsxs)(o.xv,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},f=function(e){var t=(0,i.jsx)(u,{message:e});return a(a({},l),{description:t})},d=function(e){var t=(0,i.jsx)(c,{message:e});return a(a({},l),{description:t,status:"error"})}},795:function(e,t,n){"use strict";n.d(t,{R:function(){return S},Z:function(){return E}});var r=n(68527),o=n(67294),i=n(15031),s=n(1902),a=n.n(s),u=n(85893),c=function(e){var t=e.columns,n=e.items,o=e.renderItem,s=(0,i.yo)(n,t);return(0,u.jsx)(r.xu,{children:s.map((function(e,n,i){var s=i.length;return(0,u.jsx)(r.xu,{className:a()["grid-row"],borderBottomWidth:s>1&&n===s-1&&e.length===t?"0.5px":void 0,children:(0,u.jsx)(r.MI,{columns:t,children:e.map((function(e){return(0,u.jsx)(r.xu,{className:a()["grid-item"],children:o(e)},JSON.stringify(e))}))})},JSON.stringify(e))}))})},l=n(49743),f=n(50029),d=n(16835),p=n(87794),h=n.n(p),y=n(97375),m=n(28609),v=n(81655),x=n(15193),g=n(48591),j=n(11163),b=n(97142),O=n(18459),w=n(58144),C=n(65698),_=n(10846),L=n(32523),P=function(e){var t=e.system,n=(0,y.qY)(),o=n.isOpen,i=n.onOpen,s=n.onClose,a=(0,m.pm)(),c=(0,b.T)(),l=(0,j.useRouter)(),p=(0,L.DW)(),P=(0,d.Z)(p,1)[0],S=function(){var e=(0,f.Z)(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.fides_key);case 2:n=e.sent,(0,C.D4)(n)?a((0,_.Vo)((0,C.e$)(n.error))):a((0,_.t5)("Successfully deleted system")),s();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=""===t.name||null==t.name?t.fides_key:t.name;return(0,u.jsxs)(r.xu,{display:"flex","data-testid":"system-".concat(t.fides_key),children:[(0,u.jsxs)(r.xu,{flexGrow:1,p:4,children:[(0,u.jsx)(r.X6,{as:"h2",fontSize:"16px",mb:2,children:E}),(0,u.jsx)(r.xu,{color:"gray.600",fontSize:"14px",children:(0,u.jsx)(r.xv,{children:t.description})})]}),(0,u.jsxs)(v.v2,{children:[(0,u.jsx)(v.j2,{as:x.hU,icon:(0,u.jsx)(g.nX,{}),"aria-label":"more actions",variant:"unstyled",size:"sm","data-testid":"more-btn",m:1}),(0,u.jsxs)(v.qy,{children:[(0,u.jsx)(v.sN,{onClick:function(){c((0,L.db)(t)),l.push("".concat(O.So,"/configure/").concat(t.fides_key))},"data-testid":"edit-btn",children:"Edit"}),(0,u.jsx)(v.sN,{onClick:i,"data-testid":"delete-btn",children:"Delete"})]})]}),(0,u.jsx)(w.Z,{isOpen:o,onClose:s,onConfirm:S,title:"Delete ".concat(E),message:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(r.xv,{children:["You are about to permanently delete the system"," ",(0,u.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:E}),"."]}),(0,u.jsx)(r.xv,{children:"Are you sure you would like to continue?"})]})})]})},S=function(e,t){var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase().includes(t.toLocaleLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLocaleLowerCase().includes(t.toLocaleLowerCase()))},E=function(e){var t=e.systems,n=(0,o.useState)(""),i=n[0],s=n[1],a=(0,o.useMemo)((function(){return t?t.filter((function(e){return S(e,i)})):[]}),[t,i]);return t&&t.length?(0,u.jsxs)(r.xu,{"data-testid":"system-management",children:[(0,u.jsx)(r.xu,{mb:4,"data-testid":"system-filters",children:(0,u.jsx)(l.Z,{search:i,onChange:s,maxWidth:"30vw",placeholder:"Search system name or description","data-testid":"system-search",withIcon:!0})}),(0,u.jsx)(c,{columns:3,items:a,renderItem:function(e){return(0,u.jsx)(P,{system:e})}})]}):(0,u.jsx)("div",{"data-testid":"empty-state",children:"No systems registered."})}},25905:function(e,t,n){"use strict";n.r(t);var r=n(68527),o=n(49609),i=(n(67294),n(48057)),s=n(67087),a=n(795),u=n(85893);t.default=function(){var e=function(){var e=(0,s.K3)(),t=e.data;return{isLoading:e.isLoading,systems:t}}(),t=e.isLoading,n=e.systems;return(0,u.jsxs)(i.Z,{title:"Systems",children:[(0,u.jsx)(r.xu,{display:"flex",justifyContent:"space-between",children:(0,u.jsx)(r.X6,{mb:8,fontSize:"2xl",fontWeight:"semibold",children:"System Management"})}),t?(0,u.jsx)(o.$,{}):(0,u.jsx)(a.Z,{systems:n})]})}},27396:function(e,t,n){"use strict";n.d(t,{Bw:function(){return s},D4:function(){return o},Dy:function(){return u},XD:function(){return c},cz:function(){return l},hE:function(){return a},oK:function(){return i}});var r=n(56661),o=function(e){return"error"in e},i=function(e){return(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},s=function(e){return(0,r.Ln)({status:"number",data:{}},e)},a=function(e){return(0,r.Ln)({detail:"string"},e)},u=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},c=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},57429:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems",function(){return n(25905)}])},1902:function(e){e.exports={"grid-row":"BorderGrid_grid-row__gzSVf","grid-item":"BorderGrid_grid-item__7gUTW"}},41664:function(e,t,n){e.exports=n(7942)},56661:function(e,t,n){"use strict";n.d(t,{Ln:function(){return r},uX:function(){return s}});const r=(e,t)=>i(e,t),o=Symbol("SOME"),i=(e,t)=>{if("string"==typeof e)return e===typeof t;if(Array.isArray(e))return o in e?e.some((e=>i(e,t))):!!Array.isArray(t)&&(0===e.length||t.every((t=>e.some((e=>i(e,t))))));if("object"!=typeof t||null===t)return!1;const n=t;return Object.entries(e).every((([e,t])=>i(t,n[e])))},s=e=>t=>r(e,t);class a{static narrow(e){return new a((t=>r(e,t)))}constructor(e){this.NF=void 0,this.NF=e}satisfied(e){return this.NF(e)}build(e){return e}and(e){const t=this.NF,n=e instanceof a?e.NF:e instanceof Function?e:t=>r(e,t);return new a((e=>t(e)&&n(e)))}}new a((e=>!0))}},function(e){e.O(0,[8057,9774,2888,179],(function(){return t=57429,e(e.s=t);var t}));var t=e.O();_N_E=t}]);