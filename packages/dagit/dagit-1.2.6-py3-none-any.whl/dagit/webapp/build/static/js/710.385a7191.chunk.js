(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[710],{40515:function(n,e,r){"use strict";r.d(e,{_:function(){return s}});var t,o=r(99500),i=r(73701),u=r(3159),s=function(){var n=(0,i.a)(a).data;return!(null===n||void 0===n||!n.instance.hasInfo)},a=(0,u.Ps)(t||(t=(0,o.Z)(["\n  query InstanceConfigHasInfo {\n    instance {\n      hasInfo\n    }\n  }\n"])))},70598:function(n,e,r){"use strict";r.d(e,{xR:function(){return m},Qf:function(){return w},ic:function(){return C}});var t,o=r(99500),i=r(59019),u=r(19065),s=r(3159),a=r(31269),l=r(90428),c=r.n(l),d=r(325),f=r(27601),p=r(82348),h=r(37286),x=r(34653),g=r(45302),v=r(32289),m=d.memo((function(n){var e=n.queuedCount,r=n.inProgressCount,t=(0,g.oD)(),o=(0,u.Z)(t,1)[0],s=w(o);(0,p.j)(function(n){switch(n){case"all":return"Runs | All runs";case"done":return"Runs | Done";case"in-progress":return"Runs | In progress";case"queued":return"Runs | Queued";case"scheduled":return"Runs | Scheduled";default:return"Runs"}}(s));var l=function(n){var e=o.filter((function(n){return"status"!==n.token})),r=n.map((function(n){return{token:"status",value:n}}));return(0,g.it)([].concat((0,i.Z)(r),(0,i.Z)(e)))};return(0,v.jsxs)(a.mQ,{selectedTabId:s,id:"run-tabs",children:[(0,v.jsx)(h.f,{title:"All runs",to:l([]),id:"all"}),(0,v.jsx)(h.f,{title:"Queued",count:null!==e&&void 0!==e?e:"indeterminate",to:l(Array.from(x.sy)),id:"queued"}),(0,v.jsx)(h.f,{title:"In progress",count:null!==r&&void 0!==r?r:"indeterminate",to:l(Array.from(x.Ys)),id:"in-progress"}),(0,v.jsx)(h.f,{title:"Done",to:l(Array.from(x.cv)),id:"done"}),(0,v.jsx)(h.f,{title:"Scheduled",to:"/runs/scheduled",id:"scheduled"})]})})),w=function(n){var e=(0,f.TH)().pathname;if("/runs/timeline"===e)return"timeline";if("/runs/scheduled"===e)return"scheduled";if("/overview/backfills"===e)return"backfills";var r=new Set(n.filter((function(n){return"status"===n.token})).map((function(n){return n.value})));return c()(x.sy,r)?"queued":c()(x.Ys,r)?"in-progress":c()(x.cv,r)?"done":"all"},C=(0,s.Ps)(t||(t=(0,o.Z)(["\n  query RunTabsCountQuery($queuedFilter: RunsFilter!, $inProgressFilter: RunsFilter!) {\n    queuedCount: pipelineRunsOrError(filter: $queuedFilter) {\n      ... on Runs {\n        count\n      }\n    }\n    inProgressCount: pipelineRunsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        count\n      }\n    }\n  }\n"])))},31747:function(n,e,r){"use strict";r.d(e,{a:function(){return g}});var t=r(59019),o=r(95764),i=r(19065),u=r(73701),s=r(31112),a=r(12745),l=r(32030),c=r(325),d=r(19102),f=r(70598),p=r(34653),h=r(45302),x=r(32289),g=function(n){var e=n.refreshStates,r=(0,h.oD)(),g=(0,i.Z)(r,1)[0],v=(0,h.VH)(g),m=(0,u.a)(f.ic,{variables:{queuedFilter:(0,o.Z)((0,o.Z)({},v),{},{statuses:Array.from(p.sy)}),inProgressFilter:(0,o.Z)((0,o.Z)({},v),{},{statuses:Array.from(p.Ys)})}}),w=m.data,C=c.useMemo((function(){var n,e;return{queuedCount:"Runs"===(null===w||void 0===w||null===(n=w.queuedCount)||void 0===n?void 0:n.__typename)?w.queuedCount.count:null,inProgressCount:"Runs"===(null===w||void 0===w||null===(e=w.inProgressCount)||void 0===e?void 0:e.__typename)?w.inProgressCount.count:null}}),[w]),y=C.queuedCount,j=C.inProgressCount,b=(0,d.C4)(m,d.dT),R=d.V5.apply(void 0,[b].concat((0,t.Z)(e)));return(0,x.jsx)(s.m,{title:(0,x.jsx)(a.X6,{children:"Runs"}),tabs:(0,x.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,x.jsx)(f.xR,{queuedCount:y,inProgressCount:j}),(0,x.jsx)(l.x,{padding:{bottom:8},children:(0,x.jsx)(d.xi,{refreshState:R})})]})})}},75206:function(n,e,r){"use strict";r.r(e),r.d(e,{RunsRoot:function(){return $}});var t,o,i=r(99500),u=r(95764),s=r(59019),a=r(19065),l=r(3159),c=r(73701),d=r(57615),f=r(30804),p=r(32030),h=r(7838),x=r(60736),g=r(89646),v=r(54268),m=r(47387),w=r(69346),C=r.n(w),y=r(325),j=r(74549),b=r(79082),R=r(19102),k=r(78093),Z=r(25171),_=r(40515),q=r(50741),A=r(62278),P=r(70598),E=r(22797),I=r(55752),F=r(45302),T=r(31747),S=r(77892),O=r(32289),$=function(){(0,k.Px)();var n=(0,F.oD)(),e=(0,a.Z)(n,2),r=e[0],t=e[1],o=(0,F.VH)(r),i=(0,_._)(),l=(0,S.l)({nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.runId},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]},variables:{filter:o},query:Q,pageSize:25}),c=l.queryResult,w=l.paginationProps,b=(0,R.C4)(c,R.dT),Z=(0,P.Qf)(r),$="all"!==Z,D=C()(r,(function(n){return"status"===n.token})),N=(0,a.Z)(D,2),B=N[0],H=N[1],U=y.useCallback((function(n){t($?[].concat((0,s.Z)(B),(0,s.Z)(n)):n)}),[t,$,B]),G=y.useCallback((function(n){var e=(0,d.HY)(n);H.some((function(n){return(0,d.HY)(n)===e}))||U([].concat((0,s.Z)(H),[n]))}),[H,U]),z=y.useMemo((function(){var n=["tag","snapshotId","id","job","pipeline"];return $||n.push("status"),n}),[$]),M=y.useMemo((function(){return $?r.filter((function(n){return"status"!==n.token})):r}),[r,$]);return(0,O.jsxs)(f.T,{children:[(0,O.jsx)(T.a,{refreshStates:[b]}),"queued"===Z&&i?(0,O.jsxs)(p.x,{flex:{direction:"column",gap:8},padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:h.w.KeylineGray},children:[(0,O.jsx)(x.b,{intent:"info",title:(0,O.jsx)(j.rU,{to:"/config#run_coordinator",children:"View queue configuration"})}),(0,O.jsx)(Y,{})]}):null,(0,O.jsx)(I.Lw.Provider,{value:{refetch:c.refetch},children:(0,O.jsx)(q.g,{queryResult:c,allowStaleData:!0,renderError:function(n){var e=!(null===n||void 0===n||!n.networkError||!("statusCode"in n.networkError)||400!==n.networkError.statusCode);return(0,O.jsxs)(p.x,{flex:{direction:"column",gap:32},padding:{vertical:8,left:24,right:12},children:[(0,O.jsx)(F.nr,{tokens:M,onChange:U,loading:c.loading,enabledFilters:z}),(0,O.jsx)(g.t,{icon:"warning",title:e?"Invalid run filters":"Unexpected error",description:e?"The specified run filters are not valid. Please check the filters and try again.":"An unexpected error occurred. Check the console for details."})]})},children:function(n){var e=n.pipelineRunsOrError;return"Runs"!==e.__typename?(0,O.jsx)(p.x,{padding:{vertical:64},children:(0,O.jsx)(g.t,{icon:"error",title:"Query Error",description:e.message})}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(A.Y,{$top:0,children:(0,O.jsx)(E.A,{runs:e.results.slice(0,25),onAddTag:G,filter:o,actionBarComponents:(0,O.jsxs)(p.x,{flex:{direction:"column",gap:8},children:["all"!==Z?(0,O.jsx)(p.x,{flex:{direction:"row",gap:8},children:r.filter((function(n){return"status"===n.token})).map((function(n){var e=n.token,r=n.value;return(0,O.jsx)(v.V,{children:"".concat(e,":").concat(r)},e)}))}):null,(0,O.jsx)(F.nr,{tokens:M,onChange:U,loading:c.loading,enabledFilters:z})]})})}),e.results.length>0?(0,O.jsx)("div",{style:{marginTop:"16px"},children:(0,O.jsx)(m.pI,(0,u.Z)({},w))}):null]})}})})]})};e.default=$;var Q=(0,l.Ps)(t||(t=(0,i.Z)(["\n  query RunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),E.Z,b.B),Y=function(){var n=(0,c.a)(D).data,e=y.useContext(Z.N).pageTitle,r=null===n||void 0===n?void 0:n.instance.daemonHealth.daemonStatus;return null===r||void 0===r||!r.required||null!==r&&void 0!==r&&r.healthy?null:(0,O.jsx)(x.b,{intent:"warning",title:"The queued run coordinator is not healthy.",description:(0,O.jsxs)("div",{children:["View ",(0,O.jsx)(j.rU,{to:"/health",children:e})," for details."]})})},D=(0,l.Ps)(o||(o=(0,i.Z)(['\n  query QueueDaemonStatusQuery {\n    instance {\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "QUEUED_RUN_COORDINATOR") {\n          id\n          daemonType\n          healthy\n          required\n        }\n      }\n    }\n  }\n'])))},50741:function(n,e,r){"use strict";r.d(e,{g:function(){return l},T:function(){return c}});var t=r(19065),o=r(32030),i=r(89646),u=r(34595),s=r(325),a=r(32289),l=function(n){var e=n.children,r=n.purpose,u=n.allowStaleData,l=void 0!==u&&u,d=n.renderError,f=n.queryResult,p=f.error,h=f.data,x=f.loading,g=s.useState(!0),v=(0,t.Z)(g,2),m=v[0],w=v[1],C=!h||x&&!l||0===Object.keys(h).length;if(s.useEffect((function(){var n;return C?n=setTimeout((function(){return w(!1)}),500):w(!0),function(){n&&clearTimeout(n)}}),[C]),p){if(d)return(0,a.jsx)(a.Fragment,{children:d(p)});if(!p.networkError)return(0,a.jsx)(o.x,{padding:64,flex:{justifyContent:"center"},children:(0,a.jsx)(i.t,{icon:"error",title:"GraphQL Error - see console for details"})})}return C?m?null:(0,a.jsx)(c,{purpose:r}):(0,a.jsx)(a.Fragment,{children:e(h)})},c=function(n){var e=n.purpose,r="page"===e;return(0,a.jsx)(o.x,{padding:64,flex:{grow:r?1:void 0,justifyContent:"center",alignItems:"center"},style:r?{height:"100%"}:void 0,children:(0,a.jsx)(u.$,{purpose:e})})};l.defaultProps={purpose:"page"}},62278:function(n,e,r){"use strict";r.d(e,{Y:function(){return i}});var t=r(922),o=r(7838),i=t.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){return n.$top}),o.w.White,o.w.KeylineGray)},37286:function(n,e,r){"use strict";r.d(e,{f:function(){return c}});var t=r(95764),o=r(81034),i=r(922),u=r(31269),s=(r(325),r(74549)),a=r(32289),l=["to","title","disabled"],c=(0,i.ZP)((function(n){var e=n.to,r=n.title,i=n.disabled,c=(0,o.Z)(n,l),d=(0,u.xv)(n),f=(0,u.BY)(n),p="string"===typeof r?r:void 0;return(0,a.jsx)(s.rU,(0,t.Z)((0,t.Z)((0,t.Z)({to:i?"#":e,title:p},d),c),{},{children:f}))})).withConfig({displayName:"TabLink",componentId:"sc-1rmmczd-0"})(["",""],u.gA)},60736:function(n,e,r){"use strict";r.d(e,{b:function(){return c}});var t=r(922),o=r(325),i=r(32030),u=r(7838),s=r(6466),a=r(85370),l=r(32289),c=function(n){var e=n.intent,r=n.title,t=n.description,c=n.onClose,x=o.useMemo((function(){switch(e){case"warning":return{backgroundColor:u.w.Yellow50,borderColor:u.w.Yellow500,icon:"warning",iconColor:u.w.Yellow500,textColor:u.w.Yellow700};case"error":return{backgroundColor:u.w.Red50,borderColor:u.w.Red500,icon:"error",iconColor:u.w.Red500,textColor:u.w.Red700};case"success":return{backgroundColor:u.w.Green50,borderColor:u.w.Green500,icon:"done",iconColor:u.w.Green500,textColor:u.w.Green700};default:return{backgroundColor:u.w.Blue50,borderColor:u.w.Blue500,icon:"info",iconColor:u.w.Blue500,textColor:u.w.Blue700}}}),[e]),g=x.backgroundColor,v=x.borderColor,m=x.icon,w=x.iconColor,C=x.textColor;return(0,l.jsx)(f,{background:g,$borderColor:v,$textColor:C,padding:{horizontal:16,vertical:12},children:(0,l.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,l.jsxs)(s.Z,{direction:"row",spacing:12,alignItems:"flex-start",children:[n.icon||(0,l.jsx)(a.JO,{name:m,color:w}),(0,l.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,l.jsx)(p,{children:r}),t?(0,l.jsx)(h,{children:t}):null]})]}),c?(0,l.jsx)(d,{onClick:c,children:(0,l.jsx)(a.JO,{name:"close",color:C})}):null]})})};c.defaultProps={intent:"info"};var d=t.ZP.button.withConfig({displayName:"Alert__ButtonWrapper",componentId:"sc-8stlxo-0"})(["background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;flex-direction:column;height:fit-content;"]),f=(0,t.ZP)(i.x).withConfig({displayName:"Alert__AlertContainer",componentId:"sc-8stlxo-1"})(["box-shadow:inset 4px 0 ",";color:",";a:link,a:visited,a:hover,a:active{color:",";text-decoration:underline;}"],(function(n){return n.$borderColor}),(function(n){return n.$textColor}),(function(n){return n.$textColor})),p=t.ZP.div.withConfig({displayName:"Alert__AlertTitle",componentId:"sc-8stlxo-2"})(["font-weight:600;"]),h=t.ZP.div.withConfig({displayName:"Alert__AlertDescription",componentId:"sc-8stlxo-3"})(["font-weight:400;"])},30804:function(n,e,r){"use strict";r.d(e,{T:function(){return t}});var t=r(922).ZP.div.withConfig({displayName:"Page",componentId:"sc-1qh2hrd-0"})(["height:100%;overflow-y:auto;padding-bottom:64px;width:100%;"])},81137:function(n,e,r){var t=r(74336),o={ease:t(.25,.1,.25,1),easeIn:t(.42,0,1,1),easeOut:t(0,0,.58,1),easeInOut:t(.42,0,.58,1),linear:t(0,0,1,1)};function i(){}function u(){var n=new Set,e=new Set,r=0;return{next:t,cancel:t,clearAll:function(){n.clear(),e.clear(),cancelAnimationFrame(r),r=0}};function t(n){e.add(n),r||(r=requestAnimationFrame(o))}function o(){r=0;var t=e;e=n,(n=t).forEach((function(n){n()})),n.clear()}}n.exports=function(n,e,r){var t=Object.create(null),u=Object.create(null),s="function"===typeof(r=r||{}).easing?r.easing:o[r.easing];s||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),s=o.ease);var a="function"===typeof r.step?r.step:i,l="function"===typeof r.done?r.done:i,c=function(n){if(!n){return"undefined"!==typeof window&&window.requestAnimationFrame?{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}:{next:function(n){return setTimeout(n,1e3/60)},cancel:function(n){return clearTimeout(n)}}}if("function"!==typeof n.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!==typeof n.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return n}(r.scheduler),d=Object.keys(e);d.forEach((function(r){t[r]=n[r],u[r]=e[r]-n[r]}));var f,p="number"===typeof r.duration?r.duration:400,h=Math.max(1,.06*p),x=0;return f=c.next((function e(){var r=s(x/h);x+=1,g(r),x<=h?(f=c.next(e),a(n)):(f=0,setTimeout((function(){l(n)}),0))})),{cancel:function(){c.cancel(f),f=0}};function g(e){d.forEach((function(r){n[r]=u[r]*e+t[r]}))}},n.exports.makeAggregateRaf=u,n.exports.sharedScheduler=u()},74336:function(n){var e=.1,r="function"===typeof Float32Array;function t(n,e){return 1-3*e+3*n}function o(n,e){return 3*e-6*n}function i(n){return 3*n}function u(n,e,r){return((t(e,r)*n+o(e,r))*n+i(e))*n}function s(n,e,r){return 3*t(e,r)*n*n+2*o(e,r)*n+i(e)}function a(n){return n}n.exports=function(n,t,o,i){if(!(0<=n&&n<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===t&&o===i)return a;for(var l=r?new Float32Array(11):new Array(11),c=0;c<11;++c)l[c]=u(c*e,n,o);function d(r){for(var t=0,i=1;10!==i&&l[i]<=r;++i)t+=e;--i;var a=t+(r-l[i])/(l[i+1]-l[i])*e,c=s(a,n,o);return c>=.001?function(n,e,r,t){for(var o=0;o<4;++o){var i=s(e,r,t);if(0===i)return e;e-=(u(e,r,t)-n)/i}return e}(r,a,n,o):0===c?a:function(n,e,r,t,o){var i,s,a=0;do{(i=u(s=e+(r-e)/2,t,o)-n)>0?r=s:e=s}while(Math.abs(i)>1e-7&&++a<10);return s}(r,t,t+e,n,o)}return function(n){return 0===n?0:1===n?1:u(d(n),t,i)}}},56277:function(n){n.exports=function(n,e,r,t){for(var o=-1,i=null==n?0:n.length;++o<i;){var u=n[o];e(t,u,r(u),n)}return t}},79422:function(n,e,r){var t=r(88567);n.exports=function(n,e){return!!(null==n?0:n.length)&&t(n,e,0)>-1}},7849:function(n){n.exports=function(n,e,r){for(var t=-1,o=null==n?0:n.length;++t<o;)if(r(e,n[t]))return!0;return!1}},414:function(n,e,r){var t=r(99383);n.exports=function(n,e,r,o){return t(n,(function(n,t,i){e(o,n,r(n),i)})),o}},20611:function(n){n.exports=function(n,e,r,t){for(var o=n.length,i=r+(t?1:-1);t?i--:++i<o;)if(e(n[i],i,n))return i;return-1}},88567:function(n,e,r){var t=r(20611),o=r(5760),i=r(83328);n.exports=function(n,e,r){return e===e?i(n,e,r):t(n,o,r)}},5760:function(n){n.exports=function(n){return n!==n}},33976:function(n,e,r){var t=r(7124),o=r(79422),i=r(7849),u=r(4294),s=r(19077),a=r(46138);n.exports=function(n,e,r){var l=-1,c=o,d=n.length,f=!0,p=[],h=p;if(r)f=!1,c=i;else if(d>=200){var x=e?null:s(n);if(x)return a(x);f=!1,c=u,h=new t}else h=e?[]:p;n:for(;++l<d;){var g=n[l],v=e?e(g):g;if(g=r||0!==g?g:0,f&&v===v){for(var m=h.length;m--;)if(h[m]===v)continue n;e&&h.push(v),p.push(g)}else c(h,v,r)||(h!==p&&h.push(v),p.push(g))}return p}},53004:function(n,e,r){var t=r(56277),o=r(414),i=r(57777),u=r(18981);n.exports=function(n,e){return function(r,s){var a=u(r)?t:o,l=e?e():{};return a(r,n,i(s,2),l)}}},19077:function(n,e,r){var t=r(1465),o=r(19715),i=r(46138),u=t&&1/i(new t([,-0]))[1]==1/0?function(n){return new t(n)}:o;n.exports=u},83328:function(n){n.exports=function(n,e,r){for(var t=r-1,o=n.length;++t<o;)if(n[t]===e)return t;return-1}},90428:function(n,e,r){var t=r(42473);n.exports=function(n,e){return t(n,e)}},19715:function(n){n.exports=function(){}},69346:function(n,e,r){var t=r(53004)((function(n,e,r){n[r?0:1].push(e)}),(function(){return[[],[]]}));n.exports=t},58891:function(n,e,r){var t=r(33976);n.exports=function(n){return n&&n.length?t(n):[]}}}]);
//# sourceMappingURL=710.385a7191.chunk.js.map