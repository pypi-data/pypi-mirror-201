(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[523],{93523:function(t,n,e){"use strict";e.r(n),e.d(n,{layoutAssetGraph:function(){return d},ASSET_LINK_NAME_MAX_LENGTH:function(){return h},getAssetLinkDimensions:function(){return c},padBounds:function(){return g},extendBounds:function(){return p},ASSET_NODE_NAME_MAX_LENGTH:function(){return l},getAssetNodeDimensions:function(){return y}});var r=e(47427),i=e(13357),o=e(21663),u=e.n(o),a=100,s=!1,f="group__",d=function(t){var n=new i.graphlib.Graph({compound:!0});n.setGraph({rankdir:"TB",marginx:a,marginy:a,nodesep:s?20:50,edgesep:10,ranksep:s?20:50}),n.setDefaultEdgeLabel((function(){return{}}));var e,o=function(t){return[f,t.definition.repository.location.name,t.definition.repository.name,t.definition.groupName].join("__")},d=function(t){return t},h=Object.values(t.nodes).filter(d),l={},v=(0,r.Z)(h);try{for(v.s();!(e=v.n()).done;){var m=e.value;if(m.definition.groupName){var b=o(m);l[b]={id:b,groupName:m.definition.groupName,repositoryName:m.definition.repository.name,repositoryLocationName:m.definition.repository.location.name,repositoryDisambiguationRequired:!1,bounds:{x:0,y:0,width:0,height:0}}}}}catch(T){v.e(T)}finally{v.f()}var w=Object.keys(l).length>1;w&&Object.keys(l).forEach((function(t){return n.setNode(t,{})})),h.forEach((function(t){var e=y(t.definition),r=e.width,i=e.height;n.setNode(t.id,{width:s?230:r,height:i}),w&&t.definition.groupName&&n.setParent(t.id,o(t))}));var x={};Object.keys(t.downstream).forEach((function(e){Object.keys(t.downstream[e]).forEach((function(r){(t.nodes[r]||t.nodes[e])&&(n.setEdge({v:e,w:r},{weight:1}),t.nodes[r]?t.nodes[e]||(x[e]=!0):x[r]=!0)}))})),Object.keys(x).forEach((function(t){n.setNode(t,c())})),i.layout(n);var _=0,N=0,E={};if(n.nodes().forEach((function(t){var e=n.node(t);if(e){var r={x:e.x-e.width/2,y:e.y-e.height/2,width:e.width,height:e.height};t.startsWith(f)||(E[t]={id:t,bounds:r}),_=Math.max(_,e.x+e.width/2),N=Math.max(N,e.y+e.height/2)}})),w){var O,j=(0,r.Z)(h);try{for(j.s();!(O=j.n()).done;){var k=O.value;if(k.definition.groupName){var A=o(k);l[A].bounds=0===l[A].bounds.width?E[k.id].bounds:p(l[A].bounds,E[k.id].bounds)}}}catch(T){j.e(T)}finally{j.f()}for(var M=0,S=Object.values(l);M<S.length;M++){var D=S[M];D.bounds=g(D.bounds,{x:15,top:80,bottom:15})}}Object.values(u()(Object.values(l),(function(t){return t.groupName}))).filter((function(t){return t.length>1})).flat().forEach((function(t){t.bounds.y-=18,t.bounds.height+=18,t.repositoryDisambiguationRequired=!0}));var L=[];return n.edges().forEach((function(t){var e=n.edge(t).points;L.push({from:e[0],fromId:t.v,to:e[e.length-1],toId:t.w})})),{nodes:E,edges:L,width:_+a,height:N+a,groups:w?l:{}}},h=10,c=function(){return{width:106,height:40}},g=function(t,n){return{x:t.x-n.x,y:t.y-n.top,width:t.width+2*n.x,height:t.height+n.top+n.bottom}},p=function(t,n){var e=Math.min(t.x,n.x),r=Math.min(t.y,n.y);return{x:e,y:r,width:Math.max(t.x+t.width,n.x+n.width)-e,height:Math.max(t.y+t.height,n.y+n.height)-r}},l=28,y=function(t){if(t.isSource&&!t.isObservable)return{width:255,height:72};var n=70;return t.isPartitioned&&(n+=40),t.isSource?n+=30:n+=26,t.computeKind&&(n+=30),{width:255,height:n}}},56277:function(t){t.exports=function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];n(r,u,e(u),t)}return r}},414:function(t,n,e){var r=e(99383);t.exports=function(t,n,e,i){return r(t,(function(t,r,o){n(i,t,e(t),o)})),i}},53004:function(t,n,e){var r=e(56277),i=e(414),o=e(57777),u=e(18981);t.exports=function(t,n){return function(e,a){var s=u(e)?r:i,f=n?n():{};return s(e,t,o(a,2),f)}}},21663:function(t,n,e){var r=e(72983),i=e(53004),o=Object.prototype.hasOwnProperty,u=i((function(t,n,e){o.call(t,e)?t[e].push(n):r(t,e,[n])}));t.exports=u},47427:function(t,n,e){"use strict";e.d(n,{Z:function(){return i}});var r=e(5693);function i(t,n){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=(0,r.Z)(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,u=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw u}}}}}}]);
//# sourceMappingURL=523.020a1738.chunk.js.map