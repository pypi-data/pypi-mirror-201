

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>27. inertia — Compute inertia related quantities of geometrical models. &#8212; pyFormex 3.3 documentation</title>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="28. main — pyFormex main module" href="main.html" />
    <link rel="prev" title="26. geomtools — Basic geometrical operations." href="geomtools.html" />
<link rel="icon" type="image/png" href="../_static/pyformex_fav.png" />

  </head><body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="../_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="../_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="main.html" title="28. main — pyFormex main module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="geomtools.html" title="26. geomtools — Basic geometrical operations."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">27. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">inertia</span></code> — Compute inertia related quantities of geometrical models.</a></li--> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_SIDEBAR_LOGO -->
<!-- PYFORMEX_WEBSITE_SIDEBAR_TOP -->

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">27. <code class="xref py py-mod docutils literal notranslate"><span class="pre">inertia</span></code> — Compute inertia related quantities of geometrical models.</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-inertia">27.1. Classes defined in module inertia</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-inertia">27.2. Functions defined in module inertia</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="geomtools.html"
                        title="previous chapter"><span class="section-number">26. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">geomtools</span></code> — Basic geometrical operations.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="main.html"
                        title="next chapter"><span class="section-number">28. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">main</span></code> — pyFormex main module</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-inertia">
<span id="inertia-compute-inertia-related-quantities-of-geometrical-models"></span><span id="sec-ref-inertia"></span><h1><span class="section-number">27. </span><a class="reference internal" href="#module-inertia" title="inertia: Compute inertia related quantities of geometrical models."><code class="xref py py-mod docutils literal notranslate"><span class="pre">inertia</span></code></a> — Compute inertia related quantities of geometrical models.<a class="headerlink" href="#module-inertia" title="Permalink to this headline">¶</a></h1>
<p>Inertia related quantities of a geometrical model comprise: the total mass,
the center of mass, the inertia tensor, the principal axes of inertia.</p>
<p>This module defines some classes to store the inertia data:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#inertia.Tensor" title="inertia.Tensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a>: a general second order tensor</p></li>
<li><p><a class="reference internal" href="#inertia.Inertia" title="inertia.Inertia"><code class="xref py py-class docutils literal notranslate"><span class="pre">Inertia</span></code></a>: a specialized second order tensor for inertia data</p></li>
</ul>
<p>This module also provides the basic functions to compute the inertia data
of collections of simple geometric data: points, lines, triangles, tetrahedrons.</p>
<p>The prefered way to compute inertia data of a geometric model is through the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Geometry.inertia()</span></code> methods.</p>
<div class="section" id="classes-defined-in-module-inertia">
<h2><span class="section-number">27.1. </span>Classes defined in module inertia<a class="headerlink" href="#classes-defined-in-module-inertia" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="inertia.Tensor">
<em class="property">class </em><code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">Tensor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">symmetric</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#Tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.Tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>A second order symmetric(!) tensor in 3D vector space.</p>
<p>This is a new class under design. Only use for development!</p>
<p>The Tensor class provides conversion between full matrix (3,3) shape
and contracted vector (6,) shape.
It can e.g. be used to store an inertia tensor or a stress or strain
tensor.
It provides methods to transform the tensor to other (cartesian)
axes.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>data</cite>: <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a> (float) of shape (3,3) or (6,)</p></li>
<li><p><cite>symmetric</cite>: bool. If True (default), the tensor is forced to be
symmetric by averaging the off-diagonal elements.</p></li>
<li><p><cite>cs</cite>: CoordSys. The coordinate system of the tensor.</p></li>
</ul>
<p>Properties: a Tensor T has the following properties:</p>
<ul class="simple">
<li><p>T.xx, T.xy, T.xz, T.yx, T.yy, T.yz, T.zx, T.zy, T.zz: aliases for
the nine components of the tensor</p></li>
<li><p>T.contracted: the (6,) shaped contracted array with independent
values of the tensor</p></li>
<li><p>T.tensor: the full tensor as an (3,3) array</p></li>
</ul>
<p>Discussion:</p>
<ul class="simple">
<li><p>inertia and stres/strain tensors transform in the same way
on rotations of axes. But differently on translations! Should we
therefore store the purpose of the tensor??</p>
<ul>
<li><p>Propose to leave it to the user to know what he is doing.</p></li>
<li><p>Propose to have a separate class Inertia derived from Tensor,
which implements computing the inertia tensor and translation.</p></li>
</ul>
</li>
<li><p>should we allow non-symmetrical tensors? Then what with principal?</p>
<ul>
<li><p>Propose to silently allow non-symm. Result of functions is what it is.
Again, suppose the user knows what he is doing.</p></li>
</ul>
</li>
</ul>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">[[1. 6. 5.]</span>
<span class="go"> [6. 2. 4.]</span>
<span class="go"> [5. 4. 3.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">contracted</span><span class="p">)</span>
<span class="go">[1. 2. 3. 4. 5. 6.]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[[1. 6. 5.]</span>
<span class="go"> [6. 2. 4.]</span>
<span class="go"> [5. 4. 3.]]</span>
</pre></div>
</div>
<dl class="py method">
<dt id="inertia.Tensor.contracted">
<em class="property">property </em><code class="sig-name descname">contracted</code><a class="headerlink" href="#inertia.Tensor.contracted" title="Permalink to this definition">¶</a></dt>
<dd><p>Returned the symmetric tensor data as a numpy array with shape (6,)</p>
</dd></dl>

<dl class="py method">
<dt id="inertia.Tensor.tensor">
<em class="property">property </em><code class="sig-name descname">tensor</code><a class="headerlink" href="#inertia.Tensor.tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returned the tensor data as a numpy array with shape (3,3)</p>
</dd></dl>

<dl class="py method">
<dt id="inertia.Tensor.sym">
<em class="property">property </em><code class="sig-name descname">sym</code><a class="headerlink" href="#inertia.Tensor.sym" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the symmetric part of the tensor.</p>
</dd></dl>

<dl class="py method">
<dt id="inertia.Tensor.asym">
<em class="property">property </em><code class="sig-name descname">asym</code><a class="headerlink" href="#inertia.Tensor.asym" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the antisymmetric part of the tensor.</p>
</dd></dl>

<dl class="py method">
<dt id="inertia.Tensor.principal">
<code class="sig-name descname">principal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">right_handed</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#Tensor.principal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.Tensor.principal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the principal values and axes of the inertia tensor.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>sort</cite>: bool. If True (default), the return values are sorted
in order of decreasing principal values. Otherwise they are
unsorted.</p></li>
<li><p><cite>right_handed</cite>: bool. If True (default), the returned axis vectors
are guaranteed to form a right-handed coordinate system.
Otherwise, lef-handed systems may result)</p></li>
</ul>
<p>Returns a tuple (prin,axes) where</p>
<ul class="simple">
<li><p><cite>prin</cite>: is a (3,) array with the principal values,</p></li>
<li><p><cite>axes</cite>: is a (3,3) array with the rotation matrix that
rotates the global axes to the principal axes. This also
means that the rows of axes are the unit vectors along
the principal directions.</p></li>
</ul>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">19.</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.3</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">6.45</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.7</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">principal</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[ 11.6178  -9.0015 -25.3163]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[[-0.0266  0.8638  0.5031]</span>
<span class="go"> [-0.6209  0.3802 -0.6855]</span>
<span class="go"> [-0.7834 -0.3306  0.5262]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="inertia.Tensor.rotate">
<code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rot</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#Tensor.rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.Tensor.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the tensor on coordinate system rotation.</p>
<p>Note: for an inertia tensor, the inertia should have been
computed around axes through the center of mass.
See also translate.</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Tensor</span><span class="p">([</span><span class="o">-</span><span class="mf">19.</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.3</span><span class="p">,</span> <span class="mf">11.8</span><span class="p">,</span> <span class="mf">6.45</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.7</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">principal</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span>
<span class="go">[[ 11.6178   0.       0.    ]</span>
<span class="go"> [ -0.      -9.0015  -0.    ]</span>
<span class="go"> [  0.      -0.     -25.3163]]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="inertia.Inertia">
<em class="property">class </em><code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">Inertia</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">mass</span></em>, <em class="sig-param"><span class="n">ctr</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#Inertia"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.Inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for storing the inertia tensor of an array of points.</p>
<p>Parameters:</p>
<ul>
<li><p><cite>X</cite>: a Coords with shape (npoints,3). Shapes (…,3) are accepted
but will be reshaped to (npoints,3).</p></li>
<li><p><cite>mass</cite>: optional, (npoints,) float array with the mass of the points.
If omitted, all points have mass 1.</p>
<p>The result is a tuple of two float arrays:</p>
<ul class="simple">
<li><p>the center of gravity: shape (3,)</p></li>
<li><p>the inertia tensor: shape (6,) with the following values (in order):
Ixx, Iyy, Izz, Iyz, Izx, Ixy</p></li>
</ul>
</li>
</ul>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.elements</span> <span class="kn">import</span> <span class="n">Tet4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">Tet4</span><span class="o">.</span><span class="n">vertices</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="go">[[0. 0. 0.]</span>
<span class="go"> [1. 0. 0.]</span>
<span class="go"> [0. 1. 0.]</span>
<span class="go"> [0. 0. 1.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">I</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">inertia</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">[[1.5  0.25 0.25]</span>
<span class="go"> [0.25 1.5  0.25]</span>
<span class="go"> [0.25 0.25 1.5 ]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">ctr</span><span class="p">)</span>
<span class="go">[0.25 0.25 0.25]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">mass</span><span class="p">)</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">I</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="o">.</span><span class="n">ctr</span><span class="p">))</span>
<span class="go">[[2. 0. 0.]</span>
<span class="go"> [0. 2. 0.]</span>
<span class="go"> [0. 0. 2.]]</span>
</pre></div>
</div>
<dl class="py method">
<dt id="inertia.Inertia.translate">
<code class="sig-name descname">translate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trl</span></em>, <em class="sig-param"><span class="n">toG</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#Inertia.translate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.Inertia.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia tensor around axes translated over vector trl.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>trl</cite>: arraylike (3,). Distance vector from the center of mass
to the new reference point.</p></li>
<li><p><cite>toG</cite>: bool. If False (default) the inertia tensor is translated to the
the  new reference point, otherwise it will be translated to its center
of mass</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="inertia.Inertia.translateTo">
<code class="sig-name descname">translateTo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ref</span></em>, <em class="sig-param"><span class="n">toG</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#Inertia.translateTo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.Inertia.translateTo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia tensor around axes translated to the reference
point ref.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>ref</cite>: arraylike (3,). The new reference point coordinates.</p></li>
<li><p><cite>toG</cite>: bool. If False (default) the inertia tensor is translated to the
the  new reference point, otherwise it will be translated to its center
of mass</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="inertia.Inertia.toCS">
<code class="sig-name descname">toCS</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#Inertia.toCS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.Inertia.toCS" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the coordinates to another CoordSys.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-inertia">
<h2><span class="section-number">27.2. </span>Functions defined in module inertia<a class="headerlink" href="#functions-defined-in-module-inertia" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="inertia.point_inertia">
<code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">point_inertia</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">mass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#point_inertia"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.point_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the total mass, center of mass and inertia tensor mass points.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>X</cite>: a Coords with shape (npoints,3). Shapes (…,3) are accepted
but will be reshaped to (npoints,3).</p></li>
<li><p><cite>mass</cite>: optional, (npoints,) float array with the mass of the points.
If omitted, all points have mass 1.</p></li>
<li><p><cite>center_only</cite>: bool: if True, only returns the total mass and center
of mass.</p></li>
</ul>
<p>Returns a tuple (M,C,I) where M is the total mass of all points, C is
the center of mass, and I is the inertia tensor in the central coordinate
system, i.e. a coordinate system with axes paralle to the global axes
but origin at the (computed) center of mass. If <cite>center_only</cite> is True,
returns the tuple (M,C) only. On large models this is more effective
in case you do not need the inertia tensor.</p>
</dd></dl>

<dl class="py function">
<dt id="inertia.surface_volume">
<code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">surface_volume</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">pt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#surface_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.surface_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the volume inside a 3-plex Formex.</p>
<ul class="simple">
<li><p><cite>x</cite>: an (ntri,3,3) shaped float array, representing ntri triangles.</p></li>
<li><p><cite>pt</cite>: a point in space. If unspecified, it is taken equal to the
origin of the global coordinate system ([0.,0.,0.]).</p></li>
</ul>
<p>Returns an (ntri) shaped array with the volume of the tetrahedrons formed
by the triangles and the point <cite>pt</cite>. Triangles with an outer normal
pointing away from <cite>pt</cite> will generate positive tetrahral volumes, while
triangles having <cite>pt</cite> at the side of their positive normal will generate
negative volumes. In any case, if <cite>x</cite> represents a closed surface,
the algebraic sum of all the volumes is the total volume inside the surface.</p>
</dd></dl>

<dl class="py function">
<dt id="inertia.surface_volume_inertia">
<code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">surface_volume_inertia</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">center_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#surface_volume_inertia"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.surface_volume_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia of the volume inside a 3-plex Formex.</p>
<ul class="simple">
<li><p><cite>x</cite>: an (ntri,3,3) shaped float array, representing ntri triangles.</p></li>
</ul>
<p>This uses the same algorithm as tetrahedral_inertia using [0.,0.,0.]
as the 4-th point for each tetrahedron.</p>
<p>Returns a tuple (V,C,I) where V is the total volume,
C is the center of mass (3,) and I is the inertia tensor (6,) of the
tetrahedral model.</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.simple</span> <span class="kn">import</span> <span class="n">sphere</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">S</span> <span class="o">=</span> <span class="n">sphere</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">toFormex</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">V</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">I</span> <span class="o">=</span> <span class="n">surface_volume_inertia</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">V</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">I</span><span class="p">)</span>
<span class="go">4.0470057 [-0. -0. -0.] [ 1.5821  1.5821  1.5821 -0.      0.      0.    ]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="inertia.tetrahedral_volume">
<code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">tetrahedral_volume</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#tetrahedral_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.tetrahedral_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the volume of tetrahedrons.</p>
<ul class="simple">
<li><p><cite>x</cite>: an (ntet,4,3) shaped float array, representing ntet tetrahedrons.</p></li>
</ul>
<p>Returns an (ntet,) shaped array with the volume of the tetrahedrons.
Depending on the ordering of the points, this volume may be positive
or negative. It will be positive if point 4 is on the side of the positive
normal formed by the first 3 points.</p>
</dd></dl>

<dl class="py function">
<dt id="inertia.tetrahedral_inertia">
<code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">tetrahedral_inertia</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">density</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#tetrahedral_inertia"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.tetrahedral_inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inertia of the volume of a 4-plex Formex.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>x</cite>: an (ntet,4,3) shaped float array, representing ntet tetrahedrons.</p></li>
<li><p><cite>density</cite>: optional mass density (ntet,) per tetrahedron</p></li>
<li><p><cite>center_only</cite>: bool. If True, returns only the total volume, total mass
and center of gravity. This may be used on large models when only these
quantities are required.</p></li>
</ul>
<p>Returns a tuple (V,M,C,I) where V is the total volume, M is the total mass,
C is the center of mass (3,) and I is the inertia tensor (6,) of the
tetrahedral model.</p>
<p>Formulas for inertia were based on F. Tonon, J. Math &amp; Stat, 1(1):8-11,2005</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Coords</span><span class="p">([</span>
<span class="gp">... </span>    <span class="p">[</span>  <span class="mf">8.33220</span><span class="p">,</span> <span class="o">-</span><span class="mf">11.86875</span><span class="p">,</span>  <span class="mf">0.93355</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span>  <span class="mf">0.75523</span><span class="p">,</span>   <span class="mf">5.00000</span><span class="p">,</span> <span class="mf">16.37072</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span> <span class="mf">52.61236</span><span class="p">,</span>   <span class="mf">5.00000</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.38580</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span>  <span class="mf">2.000000</span><span class="p">,</span>  <span class="mf">5.00000</span><span class="p">,</span>  <span class="mf">3.00000</span> <span class="p">],</span>
<span class="gp">... </span>    <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">F</span> <span class="o">=</span> <span class="n">Formex</span><span class="p">([</span><span class="n">x</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tetrahedral_center</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">coords</span><span class="p">))</span>
<span class="go">[15.9249  0.7828  3.7296]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tetrahedral_volume</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">coords</span><span class="p">))</span>
<span class="go">[1873.2333]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">tetrahedral_inertia</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">coords</span><span class="p">))</span>
<span class="go">1873.2333 1873.2333 [15.9249  0.7828  3.7296]     [ 43520.324 194711.28  191168.77    4417.661 -46343.164  11996.201]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="inertia.tetrahedral_center">
<code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">tetrahedral_center</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">density</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/inertia.html#tetrahedral_center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#inertia.tetrahedral_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the center of mass of a collection of tetrahedrons.</p>
<ul class="simple">
<li><p><cite>x</cite>: an (ntet,4,3) shaped float array, representing ntet tetrahedrons.</p></li>
<li><p><cite>density</cite>: optional mass density (ntet,) per tetrahedron. Default 1.</p></li>
</ul>
<p>Returns a (3,) shaped array with the center of mass.</p>
</dd></dl>

<dl class="py function">
<dt id="inertia.inertia">
<code class="sig-prename descclassname">inertia.</code><code class="sig-name descname">inertia</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">mass</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">center_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#inertia.inertia" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the total mass, center of mass and inertia tensor mass points.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>X</cite>: a Coords with shape (npoints,3). Shapes (…,3) are accepted
but will be reshaped to (npoints,3).</p></li>
<li><p><cite>mass</cite>: optional, (npoints,) float array with the mass of the points.
If omitted, all points have mass 1.</p></li>
<li><p><cite>center_only</cite>: bool: if True, only returns the total mass and center
of mass.</p></li>
</ul>
<p>Returns a tuple (M,C,I) where M is the total mass of all points, C is
the center of mass, and I is the inertia tensor in the central coordinate
system, i.e. a coordinate system with axes paralle to the global axes
but origin at the (computed) center of mass. If <cite>center_only</cite> is True,
returns the tuple (M,C) only. On large models this is more effective
in case you do not need the inertia tensor.</p>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="main.html" title="28. main — pyFormex main module"
             >next</a> |</li>
        <li class="right" >
          <a href="geomtools.html" title="26. geomtools — Basic geometrical operations."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">27. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">inertia</span></code> — Compute inertia related quantities of geometrical models.</a></li--> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2023, Benedict Verhegghe.
    </span>
      Last updated on Mar 27, 2023.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.4.3.
    </span>
    </div>
  </body>
</html>