

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>46. gui.colorscale — Mapping numerical values into colors. &#8212; pyFormex 3.3 documentation</title>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="47. gui.dialogs — Specialized dialogs for the pyFormex GUI." href="gui.dialogs.html" />
    <link rel="prev" title="45. gui.appMenu — Menu with pyFormex apps." href="gui.appMenu.html" />
<link rel="icon" type="image/png" href="../_static/pyformex_fav.png" />

  </head><body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="../_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="../_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gui.dialogs.html" title="47. gui.dialogs — Specialized dialogs for the pyFormex GUI."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gui.appMenu.html" title="45. gui.appMenu — Menu with pyFormex apps."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">46. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">gui.colorscale</span></code> — Mapping numerical values into colors.</a></li--> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_SIDEBAR_LOGO -->
<!-- PYFORMEX_WEBSITE_SIDEBAR_TOP -->

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">46. <code class="xref py py-mod docutils literal notranslate"><span class="pre">gui.colorscale</span></code> — Mapping numerical values into colors.</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-gui-colorscale">46.1. Classes defined in module gui.colorscale</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="gui.appMenu.html"
                        title="previous chapter"><span class="section-number">45. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">gui.appMenu</span></code> — Menu with pyFormex apps.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gui.dialogs.html"
                        title="next chapter"><span class="section-number">47. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">gui.dialogs</span></code> — Specialized dialogs for the pyFormex GUI.</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-gui.colorscale">
<span id="gui-colorscale-mapping-numerical-values-into-colors"></span><span id="sec-ref-gui-colorscale"></span><h1><span class="section-number">46. </span><a class="reference internal" href="#module-gui.colorscale" title="gui.colorscale: Mapping numerical values into colors."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gui.colorscale</span></code></a> — Mapping numerical values into colors.<a class="headerlink" href="#module-gui.colorscale" title="Permalink to this headline">¶</a></h1>
<p>This module contains some definitions useful in the mapping of
numerical values into colors. This is typically used to provide
a visual representation of numerical values (e.g. a temperature plot).
See the ‘postproc’ plugin for some applications in the representation
of results from Finite Element simulation programs.</p>
<ul class="simple">
<li><p>ColorScale: maps scalar float values into colors.</p></li>
<li><p>ColorLegend: subdivides a ColorScale into a number of subranges (which
are graphically represented by the pyformex.opengl.decors.ColorLegend
class).</p></li>
<li><p>Palette: a dict with some predefined palettes that can be used to create
ColorScale instances. The values in the dict are tuples of three colors,
the middle one possibly being None (see ColorScale initialization for
more details). The keys are strings that can be used in the ColorScale
initialization instead of the corresponding value.
Currently, the following palettes are defined:
‘RAINBOW’, ‘IRAINBOW’, ‘HOT’, ‘RGB’, ‘BGR’, RWB’, ‘BWR’, ‘RWG’, ‘GWR’,
‘GWB’, ‘BWG’, ‘BW’, ‘WB’, ‘PLASMA’, ‘VIRIDIS’, ‘INFERNO’, ‘MAGMA’.</p></li>
</ul>
<div class="section" id="classes-defined-in-module-gui-colorscale">
<h2><span class="section-number">46.1. </span>Classes defined in module gui.colorscale<a class="headerlink" href="#classes-defined-in-module-gui-colorscale" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="gui.colorscale.ColorScale">
<em class="property">class </em><code class="sig-prename descclassname">gui.colorscale.</code><code class="sig-name descname">ColorScale</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">palet</span><span class="o">=</span><span class="default_value">'RAINBOW'</span></em>, <em class="sig-param"><span class="n">minval</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">maxval</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">midval</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">exp</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">exp2</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gui/colorscale.html#ColorScale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gui.colorscale.ColorScale" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping floating point values into colors.</p>
<p>The ColorScale maps a range of float values minval..maxval or
minval..midval..maxval into the corresponding color from the
specified palette.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>palet</cite>: the color palette to be used. It is either a string or
a tuple of three colors.  If a string, is should be one of the keys of
the colorscale.Palette dict (see above). The full list of available
strings can be seen in the <cite>ColorScale</cite> example.
If a tuple of three colors, the middle one may
be specified as None, in which case it will be set to the mean value
of the two other colors. Each color is a tuple of 3 float values,
corresponding to the RGB components of the color. Although OpenGL
RGB values are limited to the range 0.0 to 1.0, it is perfectly legal
to specify color component values outside this range here. OpenGL
will however clip the resulting colors to the 0..1 range. This
feature can effectively be used to construct color ranges displaying
a wider variation of colors. for example, the built in ‘RAINBOW’
palette has a value ((-2., 0., 2.), (0., 2., 0.), (2., 0., -2.)).
After clipping these will correspond to the colors blue, yellow, red
respecively.</p></li>
<li><p><cite>minval</cite>: float: the minimum value of the scalar range. This value and
all lower values will be mapped to the first color of the palette.</p></li>
<li><p><cite>maxval</cite>: float: the maximum value of the scalar range. This value and
all higher values will be mapped to the last (third) color of the palette.</p></li>
<li><p><cite>midval</cite>: float: a value in the scalar range that will correspond to
the middle color of the palette. It defaults to the mean value of
<cite>minval</cite> and <cite>maxval</cite>. It can be specified to allow unequal scaling
of both subranges of the scalar values. This is often used to set
a middle value 0.0 when the values can have both negative and positive
values but with rather different maximum values in both directions.</p></li>
<li><p><cite>exp</cite>, <cite>exp2</cite>: float: exponent to allow non-linear mapping. The defaults
provide a linear mapping between numerical values and colors, or
rather a bilinear mapping if the (midval,middle color) is not a linear
combination of the endpoint mappings. Still, there are cases where the
user wants a nonlinear mapping, e.g. to have more visual accuracy in the
higher or lower (absolute) values of the (sub)range(s). Therefore, the
values are first linearly scaled to the -1..1 range, and then mapped
through the nonlinear function <a class="reference internal" href="arraytools.html#arraytools.stuur" title="arraytools.stuur"><code class="xref py py-func docutils literal notranslate"><span class="pre">arraytools.stuur()</span></code></a>.
The effect is that with
both exp &gt; 1.0, more colors are used in the neighbourhood of the lowest
value, while with exp &lt; 1.0, more colors are use around the highest
value. When both <cite>exp</cite> and <cite>exp2</cite>, the first one holds for the upper
halfrange, the second for the lower one. Setting both values &gt; 1.0
thus has the effect of using more colors around the <cite>midval</cite>.</p></li>
</ul>
<p>See example: ColorScale</p>
<dl class="py method">
<dt id="gui.colorscale.ColorScale.scale">
<code class="sig-name descname">scale</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gui/colorscale.html#ColorScale.scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gui.colorscale.ColorScale.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale a value to the range -1…1.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>val</cite>: float: numerical value to be scaled.</p></li>
</ul>
<p>If the ColorScale has only one exponent, values in the range
self.minval..self.maxval are scaled to the range -1..+1.</p>
<p>If two exponents were specified, scaling is done independently in
the intervals minval..midval and midval..maxval, mapped resp. using
exp2 and exp onto the intervals -1..0 and 0..1.</p>
</dd></dl>

<dl class="py method">
<dt id="gui.colorscale.ColorScale.color">
<code class="sig-name descname">color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gui/colorscale.html#ColorScale.color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gui.colorscale.ColorScale.color" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the color representing a value val.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>val</cite>: float: numerical value to be scaled.</p></li>
</ul>
<p>The returned color is a tuple of three float RGB values. Values
may be out of the range 0..1 if any of the palette defining colors
is.</p>
<p>The resulting color is obtained by first scaling the value to the
-1..1 range using the <cite>scale</cite> method, and then using that result
to linearly interpolate between the color values of the palette.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="gui.colorscale.ColorLegend">
<em class="property">class </em><code class="sig-prename descclassname">gui.colorscale.</code><code class="sig-name descname">ColorLegend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">colorscale</span></em>, <em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gui/colorscale.html#ColorLegend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gui.colorscale.ColorLegend" title="Permalink to this definition">¶</a></dt>
<dd><p>A colorlegend divides a ColorScale in a number of subranges.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><cite>colorscale</cite>: a <a class="reference internal" href="#gui.colorscale.ColorScale" title="gui.colorscale.ColorScale"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColorScale</span></code></a> instance</p></li>
<li><p><cite>n</cite>: a positive integer</p></li>
</ul>
<p>For a <a class="reference internal" href="#gui.colorscale.ColorScale" title="gui.colorscale.ColorScale"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColorScale</span></code></a> without <code class="docutils literal notranslate"><span class="pre">midval</span></code>, the full range is divided
in <code class="docutils literal notranslate"><span class="pre">n</span></code> subranges; for a scale with <code class="docutils literal notranslate"><span class="pre">midval</span></code>, each of the two ranges
is divided in <code class="docutils literal notranslate"><span class="pre">n/2</span></code> subranges. In each case the legend has <code class="docutils literal notranslate"><span class="pre">n</span></code>
subranges limited by <code class="docutils literal notranslate"><span class="pre">n+1</span></code> values. The <code class="docutils literal notranslate"><span class="pre">n</span></code> colors of the legend
correspond to the middle value of each subrange.</p>
<p>See also <a class="reference internal" href="opengl.decors.html#opengl.decors.ColorLegend" title="opengl.decors.ColorLegend"><code class="xref py py-class docutils literal notranslate"><span class="pre">opengl.decors.ColorLegend</span></code></a>.</p>
<dl class="py method">
<dt id="gui.colorscale.ColorLegend.overflow">
<code class="sig-name descname">overflow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oflow</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gui/colorscale.html#ColorLegend.overflow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gui.colorscale.ColorLegend.overflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise a runtime error if oflow is None, else return oflow.</p>
</dd></dl>

<dl class="py method">
<dt id="gui.colorscale.ColorLegend.color">
<code class="sig-name descname">color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gui/colorscale.html#ColorLegend.color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gui.colorscale.ColorLegend.color" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the color representing a value val.</p>
<p>The color is that of the subrange holding the value. If the value
matches a subrange limit, the lower range color is returned.
If the value falls outside the colorscale range, a runtime error
is raised, unless the corresponding underflowcolor or overflowcolor
attribute has been set, in which case this attirbute is returned.
Though these attributes can be set to any not None value, it will
usually be set to some color value, that will be used to show
overflow values.
The returned color is a tuple of three RGB values in the range 0-1.</p>
</dd></dl>

</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gui.dialogs.html" title="47. gui.dialogs — Specialized dialogs for the pyFormex GUI."
             >next</a> |</li>
        <li class="right" >
          <a href="gui.appMenu.html" title="45. gui.appMenu — Menu with pyFormex apps."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">46. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">gui.colorscale</span></code> — Mapping numerical values into colors.</a></li--> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2023, Benedict Verhegghe.
    </span>
      Last updated on Mar 27, 2023.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.4.3.
    </span>
    </div>
  </body>
</html>