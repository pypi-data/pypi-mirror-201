

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>14. config — A general yet simple configuration class. &#8212; pyFormex 3.3 documentation</title>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="15. connectivity — A class and functions for handling nodal connectivity." href="connectivity.html" />
    <link rel="prev" title="13. collection — Tools for handling collections of elements belonging to multiple parts." href="collection.html" />
<link rel="icon" type="image/png" href="../_static/pyformex_fav.png" />

  </head><body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="../_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="../_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="connectivity.html" title="15. connectivity — A class and functions for handling nodal connectivity."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="collection.html" title="13. collection — Tools for handling collections of elements belonging to multiple parts."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">14. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">config</span></code> — A general yet simple configuration class.</a></li--> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_SIDEBAR_LOGO -->
<!-- PYFORMEX_WEBSITE_SIDEBAR_TOP -->

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">14. <code class="xref py py-mod docutils literal notranslate"><span class="pre">config</span></code> — A general yet simple configuration class.</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-config">14.1. Classes defined in module config</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-config">14.2. Functions defined in module config</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="collection.html"
                        title="previous chapter"><span class="section-number">13. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">collection</span></code> — Tools for handling collections of elements belonging to multiple parts.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="connectivity.html"
                        title="next chapter"><span class="section-number">15. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">connectivity</span></code> — A class and functions for handling nodal connectivity.</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-config">
<span id="config-a-general-yet-simple-configuration-class"></span><span id="sec-ref-config"></span><h1><span class="section-number">14. </span><a class="reference internal" href="#module-config" title="config: A general yet simple configuration class."><code class="xref py py-mod docutils literal notranslate"><span class="pre">config</span></code></a> — A general yet simple configuration class.<a class="headerlink" href="#module-config" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line">(C) 2005, 2021 Benedict Verhegghe</div>
<div class="line">Distributed under the GNU GPL version 3 or later</div>
</div>
<dl class="simple">
<dt>Why</dt><dd><p>I wrote this simple class because I wanted to use Python
expressions in my configuration files. This is so much more fun
than using .INI style config files.  While there are some other
Python config modules available on the web, I couldn’t find one
that suited my needs and my taste: either they are intended for
more complex configuration needs than mine, or they do not work
with the simple Python syntax I expected.</p>
</dd>
<dt>What</dt><dd><p>Our Config class is just a normal Python dictionary which can hold
anything.  Fields can be accessed either as dictionary lookup
(config[‘foo’]) or as object attributes (config.foo).  The class
provides a function for reading the dictionary from a flat text
(multiline string or file). I will always use the word ‘file’
hereafter, because that is what you usually will read the
configuration from.  Your configuration file can have named
sections. Sections are stored as other Python dicts inside the top
Config dictionary. The current version is limited to one level of
sectioning.</p>
</dd>
</dl>
<div class="section" id="classes-defined-in-module-config">
<h2><span class="section-number">14.1. </span>Classes defined in module config<a class="headerlink" href="#classes-defined-in-module-config" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="config.Section">
<em class="property">class </em><code class="sig-prename descclassname">config.</code><code class="sig-name descname">Section</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_factory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Section"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Section" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for storing a section in a <a class="reference internal" href="#config.Config" title="config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a>.</p>
<p>This is an empty class definition. It only exists to give the
sections another name.</p>
</dd></dl>

<dl class="py class">
<dt id="config.Config">
<em class="property">class </em><code class="sig-prename descclassname">config.</code><code class="sig-name descname">Config</code><span class="sig-paren">(</span><em class="sig-param">data={}</em>, <em class="sig-param">default=&lt;function Dict.returnNone&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>A configuration class allowing Python expressions in the input.</p>
<p>The Config class is a subclass of the <code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code> mapping, which
provides access to items by either dict-style key lookup
<code class="docutils literal notranslate"><span class="pre">config['foo']</span></code>, attribute syntax <code class="docutils literal notranslate"><span class="pre">config.foo</span></code> or call syntax
<code class="docutils literal notranslate"><span class="pre">config('foo')</span></code>. Furthermore, the Dict class allows a default_factory
function to lookup in another Dict. This allows a chain of Config
objects: session_prefs -&gt; user_prefs -&gt; factory_defaults.</p>
<p>The Config class is different from its parent Dict class in two ways:</p>
<ul class="simple">
<li><p>Keys should only be strings that are valid Python variable names,
except that they can also contain a ‘/’ character.
The ‘/’ splits up the key in two parts: the first part becomes a
key in the Config, and its value is a <a class="reference internal" href="#config.Section" title="config.Section"><code class="xref py py-class docutils literal notranslate"><span class="pre">Section</span></code></a> dict where
the values are stored with the second part of the key.
This allows for creating sections in the configuration. Currently
only one level of sectioning is allowed (keys can only have a single
‘/’ character.</p></li>
<li><p>A Config instance can be initialized or updated with a text in
Python source style. This provides an easy way to store
configurations in files with Python style. The Config class also
provides a way to export its contents to such a Python source text:
updated configurations can thus be written back to a configuration
file. See Notes below for details.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a><em> or </em><em>multiline string</em><em>, </em><em>optional</em>) – Data to initialize the Config. If a dict, all keys should follow
the rules for valid config keys formulated above.
If a multiline string, it should be an executable Python source
text, with the limitations and exceptions outlined in the Notes
below.</p></li>
<li><p><strong>default</strong> (<a class="reference internal" href="#config.Config" title="config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> object, optional) – If provided, this object will be used as default lookup for
missing keys.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The configuration object can be initialized from a dict or from
a multiline string. Using a dict is obvious: one only has to obey
the restriction that keys should be valid Python variable names.</p>
<p>The format of the multiline config text is described hereafter.
This is also the format in which config files are written and
can be loaded.</p>
<p>All config lines should have the format: key = value, where key is a
string and value is a Python expression The first ‘=’ character on the
line is the delimiter between key and value.  Blanks around both the
key and the value are stripped.  The value is then evaluated as a
Python expression and stored in a variable with name specified by the
key. This variable is available for use in subsequent configuration
lines. It is an error to use a variable before it is defined.  The
key,value pair is also stored in the Config dictionary, unless the key
starts with an underscore (‘_’): this provides for local variables.</p>
<p>Lines starting with ‘#’ are comments and are ignored, as are empty
and blank lines.  Lines ending with ‘’ are continued on the next
line.  A line starting with ‘[‘ starts a new section. A section is
nothing more than a Python dictionary inside the Config
dictionary. The section name is delimited by ‘[‘and ‘]’. All
subsequent lines will be stored in the section dictionary instead
of the toplevel dictionary.</p>
<p>All other lines are executed as Python statements. This allows
e.g. for importing modules.</p>
<p>Whole dictionaries can be inserted at once in the Config with the
update() function.</p>
<p>All defined variables while reading config files remain available
for use in the config file statements, even over multiple calls to
the read() function. Variables inserted with addSection() will not
be available as individual variables though, but can be accessed as
<code class="docutils literal notranslate"><span class="pre">self['name']</span></code>.</p>
<p>As far as the resulting Config contents is concerned, the following are
equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;key&#39;</span><span class="p">:</span><span class="s1">&#39;value&#39;</span><span class="p">})</span>
<span class="n">C</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;key=&#39;value&#39;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>There is an important difference though: the second line will make a
variable key (with value ‘value’) available in subsequent Config read()
method calls.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;# A simple config example</span>
<span class="gp">... </span><span class="s1">    aa = &#39;bb&#39;</span>
<span class="gp">... </span><span class="s1">    bb = aa</span>
<span class="gp">... </span><span class="s1">    [cc]</span>
<span class="gp">... </span><span class="s1">    aa = &#39;aa&#39;    # yes ! comments are allowed)</span>
<span class="gp">... </span><span class="s1">    _n = 3       # local: will get stripped</span>
<span class="gp">... </span><span class="s1">    rng = list(range(_n))</span>
<span class="gp">... </span><span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span>
<span class="go">Config({&#39;aa&#39;: &#39;bb&#39;, &#39;bb&#39;: &#39;bb&#39;, &#39;cc&#39;: Section({&#39;aa&#39;: &#39;aa&#39;, &#39;rng&#39;: [0, 1, 2]})})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">]</span>
<span class="go">&#39;bb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="p">[</span><span class="s1">&#39;cc&#39;</span><span class="p">]</span>
<span class="go">Section({&#39;aa&#39;: &#39;aa&#39;, &#39;rng&#39;: [0, 1, 2]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="p">[</span><span class="s1">&#39;cc/aa&#39;</span><span class="p">]</span>
<span class="go">&#39;aa&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;aa&#39;, &#39;bb&#39;, &#39;cc&#39;, &#39;cc/aa&#39;, &#39;cc/rng&#39;]</span>
</pre></div>
</div>
<p>Create a new Config with default lookup in C</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">D</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span>
<span class="go">Config({})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">]</span>       <span class="c1"># Get from C</span>
<span class="go">&#39;bb&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc&#39;</span><span class="p">]</span>       <span class="c1"># Get from C</span>
<span class="go">Section({&#39;aa&#39;: &#39;aa&#39;, &#39;rng&#39;: [0, 1, 2]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc/aa&#39;</span><span class="p">]</span>            <span class="c1"># Get from C</span>
<span class="go">&#39;aa&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cc/aa&#39;</span><span class="p">,</span><span class="s1">&#39;zorro&#39;</span><span class="p">)</span>      <span class="c1"># but get method does not cascade!</span>
<span class="go">&#39;zorro&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Setting values in D will store them in D while C remains unchanged.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;wel&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;dd&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hoe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc/aa&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ziedewel&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span>
<span class="go">Config({&#39;aa&#39;: &#39;wel&#39;, &#39;dd&#39;: &#39;hoe&#39;, &#39;cc&#39;: Section({&#39;aa&#39;: &#39;ziedewel&#39;})})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span>
<span class="go">Config({&#39;aa&#39;: &#39;bb&#39;, &#39;bb&#39;: &#39;bb&#39;, &#39;cc&#39;: Section({&#39;aa&#39;: &#39;aa&#39;, &#39;rng&#39;: [0, 1, 2]})})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc/aa&#39;</span><span class="p">]</span>
<span class="go">&#39;ziedewel&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc&#39;</span><span class="p">]</span>
<span class="go">Section({&#39;aa&#39;: &#39;ziedewel&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc/rng&#39;</span><span class="p">]</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;bb&#39;</span> <span class="ow">in</span> <span class="n">D</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;cc/aa&#39;</span> <span class="ow">in</span> <span class="n">D</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;cc/ee&#39;</span> <span class="ow">in</span> <span class="n">D</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc/bb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ok&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;aa&#39;, &#39;dd&#39;, &#39;cc&#39;, &#39;cc/aa&#39;, &#39;cc/bb&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">D</span><span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc/aa&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;dd&#39;, &#39;cc&#39;, &#39;cc/bb&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="o">.</span><span class="n">sections</span><span class="p">()</span>
<span class="go">[&#39;cc&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">D</span><span class="p">[</span><span class="s1">&#39;cc&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">D</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;dd&#39;]</span>
</pre></div>
</div>
<dl class="py method">
<dt id="config.Config.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">removeLocals</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Config.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Config.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a dictionary to the Config object.</p>
<p>The data, if specified, should be a valid Python dict.
If no name is specified, the data are added to the top dictionary
and will become attributes.
If a name is specified, the data are added to the named attribute,
which should be a dictionary. If the name does not specify a
dictionary, an empty one is created, deleting the existing attribute.</p>
<p>If a name is specified, but no data, the effect is to add a new
empty dictionary (section) with that name.</p>
<p>If removeLocals is set, keys starting with ‘_’ are removed from the
data before updating the dictionary and not
included in the config. This behaviour can be changed by setting
removeLocals to false.</p>
</dd></dl>

<dl class="py method">
<dt id="config.Config.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Config.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Config.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a configuration from a file in Config format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference internal" href="../glossary.html#term-path_like"><span class="xref std std-term">path_like</span></a>) – Path of a text file in Config format.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Config</em> – Returns the Config self, updated with the settings read from
the specified file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="config.Config.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">txt</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Config.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Config.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a configuration from a file or text</p>
<p><cite>txt</cite> is a sequence of strings. Any type that allows a loop like
<code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">line</span> <span class="pre">in</span> <span class="pre">txt:</span></code>
to iterate over its text lines will do. This could be an open file, or
a multiline text after splitting on ‘n’.</p>
<p>The function will try to react intelligently if a string is passed as
argument. If the string contains at least one ‘n’, it will be
interpreted as a multiline string and be splitted on ‘n’.
Else, the string will be considered and a file with that name will
be opened. It is an error if the file does not exist or can not be
opened.</p>
<p>The function returns self, so that you can write: cfg = Config().</p>
</dd></dl>

<dl class="py method">
<dt id="config.Config.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">header</span><span class="o">=</span><span class="default_value">'# Config written by pyFormex    -*- PYTHON -*-\n\n'</span></em>, <em class="sig-param"><span class="n">trailer</span><span class="o">=</span><span class="default_value">'\n# End of config\n'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Config.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Config.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the config to the given file</p>
<p>The configuration data will be written to the file with the given name
in a text format that is both readable by humans and by the
Config.read() method.</p>
<p>The header and trailer arguments are strings that will be added at
the start and end of the outputfile. Make sure they are valid
Python statements (or comments) and that they contain the needed
line separators, if you want to be able to read it back.</p>
</dd></dl>

<dl class="py method">
<dt id="config.Config.keys">
<code class="sig-name descname">keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descend</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Config.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Config.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the keys in the config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>descend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a><em>, </em><em>optional</em>) – If True (default) also reports the keys in Section objects with
the combined section/item keys. This is the proper use for a
Config with optional sections.
If False, no keys in sections are reported, only the section names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="config.Config.sections">
<code class="sig-name descname">sections</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#Config.sections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.Config.sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sections</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-config">
<h2><span class="section-number">14.2. </span>Functions defined in module config<a class="headerlink" href="#functions-defined-in-module-config" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="config.formatDict">
<code class="sig-prename descclassname">config.</code><code class="sig-name descname">formatDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/config.html#formatDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#config.formatDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a Config in Python source representation.</p>
<p>Each (key,value) pair is formatted on a line of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">key</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<p>If all the keys are strings containing only characters that are
allowed in Python variable names, the resulting text is a legal
Python script to define the items in the dict. It can be stored
on a file and executed.</p>
<p>This format is the storage format of the Config class.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">formatDict</span><span class="p">({</span><span class="s1">&#39;str&#39;</span><span class="p">:</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;path&#39;</span><span class="p">:</span><span class="n">Path</span><span class="p">(),</span> <span class="s1">&#39;int&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">}))</span>
<span class="go">str = &#39;abc&#39;</span>
<span class="go">path = Path(&#39;.&#39;)</span>
<span class="go">int = 4</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="connectivity.html" title="15. connectivity — A class and functions for handling nodal connectivity."
             >next</a> |</li>
        <li class="right" >
          <a href="collection.html" title="13. collection — Tools for handling collections of elements belonging to multiple parts."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">14. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">config</span></code> — A general yet simple configuration class.</a></li--> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2023, Benedict Verhegghe.
    </span>
      Last updated on Mar 27, 2023.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.4.3.
    </span>
    </div>
  </body>
</html>