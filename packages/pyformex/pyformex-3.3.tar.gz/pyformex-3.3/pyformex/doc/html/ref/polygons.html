

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>34. polygons — Polygon meshes. &#8212; pyFormex 3.3 documentation</title>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="35. process — Executing external commands." href="process.html" />
    <link rel="prev" title="33. path — Object oriented filesystem paths." href="path.html" />
<link rel="icon" type="image/png" href="../_static/pyformex_fav.png" />

  </head><body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="../_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="../_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="process.html" title="35. process — Executing external commands."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="path.html" title="33. path — Object oriented filesystem paths."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">34. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">polygons</span></code> — Polygon meshes.</a></li--> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_SIDEBAR_LOGO -->
<!-- PYFORMEX_WEBSITE_SIDEBAR_TOP -->

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">34. <code class="xref py py-mod docutils literal notranslate"><span class="pre">polygons</span></code> — Polygon meshes.</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-polygons">34.1. Classes defined in module polygons</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-polygons">34.2. Functions defined in module polygons</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="path.html"
                        title="previous chapter"><span class="section-number">33. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">path</span></code> — Object oriented filesystem paths.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="process.html"
                        title="next chapter"><span class="section-number">35. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">process</span></code> — Executing external commands.</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-polygons">
<span id="polygons-polygon-meshes"></span><span id="sec-ref-polygons"></span><h1><span class="section-number">34. </span><a class="reference internal" href="#module-polygons" title="polygons: Polygon meshes."><code class="xref py py-mod docutils literal notranslate"><span class="pre">polygons</span></code></a> — Polygon meshes.<a class="headerlink" href="#module-polygons" title="Permalink to this headline">¶</a></h1>
<p>This module defines the Polygons class, which can be used to describe
discrete geometrical models consisting of polygons.</p>
<div class="section" id="classes-defined-in-module-polygons">
<h2><span class="section-number">34.1. </span>Classes defined in module polygons<a class="headerlink" href="#classes-defined-in-module-polygons" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="polygons.Polygons">
<em class="property">class </em><code class="sig-prename descclassname">polygons.</code><code class="sig-name descname">Polygons</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coords</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">elems</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">prop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons" title="Permalink to this definition">¶</a></dt>
<dd><p>Polygons is a discrete geometrical model consisting of polygons.</p>
<p>The Polygons class is implemented in a similar manner as the
<code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code> and :class`TriSurface` classes: the coordinates of
all the vertices are collected in a single <code class="xref py py-class docutils literal notranslate"><span class="pre">Coords</span></code> array,
and the ‘elements’ (polygons) are defined using indices into that
array. While the <code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code> and :class`TriSurface` classes store
the elements in an <code class="xref py py-class docutils literal notranslate"><span class="pre">Elems</span></code> array (requiring a fixed plexitude
for all elements), the Polygons class uses a <code class="xref py py-class docutils literal notranslate"><span class="pre">Varray</span></code> so that
the polygons can have a variable number of vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<a class="reference internal" href="../glossary.html#term-coords_like"><span class="xref std std-term">coords_like</span></a>) – A 2-dim <a class="reference internal" href="coords.html#coords.Coords" title="coords.Coords"><code class="xref py py-class docutils literal notranslate"><span class="pre">Coords</span></code></a> (or data to initalize it) with the
coordinates of all the vertices used to define the polygons.</p></li>
<li><p><strong>elems</strong> (<a class="reference internal" href="varray.html#varray.Varray" title="varray.Varray"><code class="xref py py-class docutils literal notranslate"><span class="pre">Varray</span></code></a>) – A <a class="reference internal" href="varray.html#varray.Varray" title="varray.Varray"><code class="xref py py-class docutils literal notranslate"><span class="pre">Varray</span></code></a> (or data to initalize it) with the indices
of the vertices that define each of the polygons. All values in elems
should be in the range 0 &lt;= value &lt; len(coords).</p></li>
<li><p><strong>prop</strong> (int <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a>, optional) – 1-dim int array with non-negative element property numbers.
If provided, <code class="xref py py-meth docutils literal notranslate"><span class="pre">setProp()</span></code> will be called to assign the
specified properties.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>A Polygons with a triangle and a square.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">Coords</span><span class="p">(</span><span class="s1">&#39;0123&#39;</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">report</span><span class="p">())</span>
<span class="go">Polygons: nnodes: 4, nelems: 2, nplex: min 3, max 4, eltype: polygon</span>
<span class="go">  BBox: [0. 0. 0.], [1. 1. 0.]</span>
<span class="go">  Size: [1. 1. 0.]</span>
<span class="go">  Coords: [[0. 0. 0.]</span>
<span class="go">           [1. 0. 0.]</span>
<span class="go">           [1. 1. 0.]</span>
<span class="go">           [0. 1. 0.]]</span>
<span class="go">  Elems: Varray (2, (3, 4))</span>
<span class="go">           [0 1 2]</span>
<span class="go">           [0 1 2 3]</span>
</pre></div>
</div>
<dl class="py method">
<dt id="polygons.Polygons.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all polygons have at least length 3</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.eltype">
<em class="property">property </em><code class="sig-name descname">eltype</code><a class="headerlink" href="#polygons.Polygons.eltype" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the element type of the Polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>str</em> – Always ‘polygon’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.elName">
<code class="sig-name descname">elName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.elName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.elName" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the element name of the Polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>str</em> – Always ‘polygon’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.level">
<code class="sig-name descname">level</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.level" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the level of dimensionality of the polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>int</em> – Always 2.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#polygons.Polygons.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the shape of the <code class="xref py py-attr docutils literal notranslate"><span class="pre">elems</span></code> Varray.</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.nelems">
<code class="sig-name descname">nelems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.nelems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.nelems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of polygons.</p>
<p>This is the number of ‘rows’ in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">elems</span></code> Varray.</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.nplex">
<code class="sig-name descname">nplex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.nplex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.nplex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the plexitude of the polygon elements.</p>
<p>Always returns None, as there is no fixed plexitude of the
polygons.</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.plex">
<em class="property">property </em><code class="sig-name descname">plex</code><a class="headerlink" href="#polygons.Polygons.plex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the plexitude of each of the elements</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.ncoords">
<code class="sig-name descname">ncoords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.ncoords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.ncoords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of points used to define the polygons.</p>
<p>This is the first dimension of the <a class="reference internal" href="coords.html#module-coords" title="coords: A structured collection of 3D coordinates."><code class="xref py py-attr docutils literal notranslate"><span class="pre">coords</span></code></a> array.</p>
<p class="rubric">Notes</p>
<p>This may be different from the total number of vertices in all
the polygons, as polygons may share some vertices.</p>
<p>See also
size: The total number of vertices in all the polygons.</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#polygons.Polygons.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of polygon vertices.</p>
<p>This is the total number of entries in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">elems</span></code> Varray.</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.info">
<code class="sig-name descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return short info about the Mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>str</em> – A string with info about the shape of the
<a class="reference internal" href="mesh.html#mesh.Mesh.coords" title="mesh.Mesh.coords"><code class="xref py py-attr docutils literal notranslate"><span class="pre">coords</span></code></a> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">elems</span></code> attributes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">full</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a report on the Mesh shape and size.</p>
<p>The report always contains the number of nodes, number of elements,
plexitude, dimensionality, element type, bbox and size.
If full==True(default), it also contains the nodal coordinate
list and element connectivity table. Because the latter can be rather
bulky, they can be switched off.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>NumPy normally limits the printed output. You will have to change
numpy settings to actually print the full arrays.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.shallowCopy">
<code class="sig-name descname">shallowCopy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prop</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.shallowCopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.shallowCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a shallow copy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prop</strong> (int <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a>, optional) – 1-dim int array with non-negative element property numbers.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Polygons</em> – A shallow copy of the Mesh, using the same data arrays
for <code class="docutils literal notranslate"><span class="pre">coords</span></code> and <code class="docutils literal notranslate"><span class="pre">elems</span></code>. If <code class="docutils literal notranslate"><span class="pre">prop</span></code> was provided,
the new Mesh can have other property numbers.
This is a convenient method to use the same Mesh
with different property attributes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.triangleSelector">
<em class="property">classmethod </em><code class="sig-name descname">triangleSelector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.triangleSelector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.triangleSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a selector to get triangle fan elements from polygons.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Polygons</span><span class="o">.</span><span class="n">triangleSelector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">array([[0, 1, 2],</span>
<span class="go">       [0, 2, 3],</span>
<span class="go">       [0, 3, 4]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.edgeSelector">
<em class="property">classmethod </em><code class="sig-name descname">edgeSelector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.edgeSelector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.edgeSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a selector to get edge elements from polygons.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Polygons</span><span class="o">.</span><span class="n">edgeSelector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">array([[0, 1],</span>
<span class="go">       [1, 2],</span>
<span class="go">       [2, 3],</span>
<span class="go">       [3, 4],</span>
<span class="go">       [4, 0]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.triangles">
<code class="sig-name descname">triangles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">'fan'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.triangles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.triangles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an Elems with the triangles of the polygons</p>
<p>layout = ‘fan’ | ‘strip’ | ‘edglen’</p>
<p>TODO: only ‘fan’ is implemented!</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.edges">
<code class="sig-name descname">edges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">'fan'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an Elems with the edges of the polygons</p>
<p>layout = ‘fan’ | ‘strip’ | ‘edglen’</p>
<p>TODO: only ‘fan’ is implemented!</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.print_tables">
<code class="sig-name descname">print_tables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.print_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.print_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all the tables</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.vertices">
<em class="property">property </em><code class="sig-name descname">vertices</code><a class="headerlink" href="#polygons.Polygons.vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all vertices of all polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Coords</em> – The coordinates of all vertices of all polygons, in the order
of the <code class="xref py py-attr docutils literal notranslate"><span class="pre">elems</span></code> data.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">Coords</span><span class="p">(</span><span class="s1">&#39;0123&#39;</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">vertices</span>
<span class="go">Coords([[0., 0., 0.],</span>
<span class="go">        [1., 0., 0.],</span>
<span class="go">        [1., 1., 0.],</span>
<span class="go">        [0., 0., 0.],</span>
<span class="go">        [1., 0., 0.],</span>
<span class="go">        [1., 1., 0.],</span>
<span class="go">        [0., 1., 0.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.vectors">
<code class="sig-name descname">vectors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return vectors along all edges of all polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Coords</em> – The vectors along all the edges of all polygons, in the order
of the <code class="xref py py-attr docutils literal notranslate"><span class="pre">elems</span></code> data. The vectors point from each vertex to
the next vertex in the polygon.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">Coords</span><span class="p">(</span><span class="s1">&#39;0123&#39;</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">vectors</span><span class="p">()</span>
<span class="go">Coords([[ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [-1., -1.,  0.],</span>
<span class="go">        [ 1.,  0.,  0.],</span>
<span class="go">        [ 0.,  1.,  0.],</span>
<span class="go">        [-1.,  0.,  0.],</span>
<span class="go">        [ 0., -1.,  0.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.vectorPairs">
<code class="sig-name descname">vectorPairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.vectorPairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.vectorPairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute vector pairs along the edges at each vertex of the polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>vec1</strong> (<em>float array (nel, nplex, 3)</em>) – The vectors from each vertex to the previous vertex in the polygon.</p></li>
<li><p><strong>vec2</strong> (<em>float array (nel, nplex, 3)</em>) – The vectors from each vertex to the next vertex in the polygon.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">Coords</span><span class="p">(</span><span class="s1">&#39;0123&#39;</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">vectorPairs</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
<span class="go">[[-1. -1.  0.]</span>
<span class="go"> [ 1.  0.  0.]</span>
<span class="go"> [ 0.  1.  0.]</span>
<span class="go"> [ 0. -1.  0.]</span>
<span class="go"> [ 1.  0.  0.]</span>
<span class="go"> [ 0.  1.  0.]</span>
<span class="go"> [-1.  0.  0.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">v2</span><span class="p">)</span>
<span class="go">[[ 1.  0.  0.]</span>
<span class="go"> [ 0.  1.  0.]</span>
<span class="go"> [-1. -1.  0.]</span>
<span class="go"> [ 1.  0.  0.]</span>
<span class="go"> [ 0.  1.  0.]</span>
<span class="go"> [-1.  0.  0.]</span>
<span class="go"> [ 0. -1.  0.]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.vnormals">
<em class="property">property </em><code class="sig-name descname">vnormals</code><a class="headerlink" href="#polygons.Polygons.vnormals" title="Permalink to this definition">¶</a></dt>
<dd><p>Return normals at vertices of polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>normals</strong> (<em>float array (self.size,3)</em>) – The unit normals on the two edges ending at each vertex.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">Coords</span><span class="p">(</span><span class="s1">&#39;0123&#39;</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">vnormals</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mf">0.</span><span class="p">)</span>
<span class="go">[[0. 0. 1.]</span>
<span class="go"> [0. 0. 1.]</span>
<span class="go"> [0. 0. 1.]</span>
<span class="go"> [0. 0. 1.]</span>
<span class="go"> [0. 0. 1.]</span>
<span class="go"> [0. 0. 1.]</span>
<span class="go"> [0. 0. 1.]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.angles">
<em class="property">property </em><code class="sig-name descname">angles</code><a class="headerlink" href="#polygons.Polygons.angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute internal angles at vertices of polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>angles</strong> (<em>float array (nel, nplex)</em>) – The internal angles made by the two polygon edges at the vertex.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">Coords</span><span class="p">(</span><span class="s1">&#39;0123&#39;</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">angles</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[45. 90. 45. 90. 90. 90. 90.]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.fnormals">
<em class="property">property </em><code class="sig-name descname">fnormals</code><a class="headerlink" href="#polygons.Polygons.fnormals" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute mean face normals of polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>fnormals</strong> (<em>float array (self.nelems, 3)</em>) – For each polygon, the mean of the normals at all its vertices.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">Coords</span><span class="p">(</span><span class="s1">&#39;0123&#39;</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">fnormals</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">[[ 0.  0.  1.]</span>
<span class="go"> [ 0.  0.  1.]</span>
<span class="go"> [ 0.  0. -1.]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.avg_normals">
<code class="sig-name descname">avg_normals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weights</span><span class="o">=</span><span class="default_value">'angle'</span></em>, <em class="sig-param"><span class="n">full</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">treshold</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.avg_normals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.avg_normals" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute averaged normals at the nodes of a Polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (float <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a> (ncoords, 3)) – Array with the coordinates of the nodes</p></li>
<li><p><strong>elems</strong> (int <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a> (nelems, nplex, 3)) – Definitions of the polygons in terms of the nodes. All polygons
should have the same plexitude.</p></li>
<li><p><strong>weights</strong> (float <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a> | ‘angle’ | None) – Weights to apply to the polygon normals at a node during averaging.
The default ‘angle’ will weigh the contribution of the polygons
by the angle their edges make at the node. Custom values should be
an array with shape (nelems, nplex). Specifying None will result
in giving the same weight to all normals.</p></li>
<li><p><strong>full</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a><em>, </em><em>optional</em>) – If False (default), unique averaged normals at the nodes
are returned.
If True, the averaged normals are returned for each vertex
of each polygon. This is mainly intended for rendering purposes.</p></li>
<li><p><strong>treshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a><em>, </em><em>optional</em>) – Only used with <code class="docutils literal notranslate"><span class="pre">full=True</span></code>. If provided, element vertex normals
making an angle with the averaged normal having a cosinus smaller
than treshold, will be returned as the original normal.
This allows the rendering of feature edges.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>normals</strong> (<em>float array</em>) – (ncoords, 3)
The unit normals at the nodes, obtained by (weighted) averaging
the normals on the polygons attached to that node. The default
<code class="docutils literal notranslate"><span class="pre">full=False</span></code> returns an array with shape (ncoords, 3). With
<code class="docutils literal notranslate"><span class="pre">full=True</span></code>, an array with shape (nelems, nplex, 3) is
returned.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>This example is the surface of a unit cube.
Notice that the average normals come out nicely symmetric, even without
weights, because all polygons have the same angles at the nodes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyformex.simple</span> <span class="kn">import</span> <span class="n">Cube</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">M</span> <span class="o">=</span> <span class="n">Cube</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">coords</span><span class="p">,</span> <span class="n">M</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">avg_normals</span><span class="p">())</span>
<span class="go">[[-0.5774 -0.5774 -0.5774]</span>
<span class="go"> [ 0.5774 -0.5774 -0.5774]</span>
<span class="go"> [ 0.5774  0.5774 -0.5774]</span>
<span class="go"> [-0.5774  0.5774 -0.5774]</span>
<span class="go"> [-0.5774 -0.5774  0.5774]</span>
<span class="go"> [ 0.5774 -0.5774  0.5774]</span>
<span class="go"> [ 0.5774  0.5774  0.5774]</span>
<span class="go"> [-0.5774  0.5774  0.5774]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">avg_normals</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
<span class="go">[[-0.5774 -0.5774 -0.5774]</span>
<span class="go"> [ 0.5774 -0.5774 -0.5774]</span>
<span class="go"> [ 0.5774  0.5774 -0.5774]</span>
<span class="go"> [-0.5774  0.5774 -0.5774]</span>
<span class="go"> [-0.5774 -0.5774  0.5774]</span>
<span class="go"> [ 0.5774 -0.5774  0.5774]</span>
<span class="go"> [ 0.5774  0.5774  0.5774]</span>
<span class="go"> [-0.5774  0.5774  0.5774]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.concatenate">
<em class="property">classmethod </em><code class="sig-name descname">concatenate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">polys</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.concatenate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.concatenate" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate a list of Polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>polys</strong> (<em>list of Polygons</em>) – A list of Polygons instance to be concatenated to a single one.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The concatenation itself does not fuse the vertices that happen to be
(nearly) conincident. You may want to call the <a class="reference internal" href="#polygons.Polygons.fuse" title="polygons.Polygons.fuse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fuse()</span></code></a> method.</p>
<p>If any of the Polygons has property numbers, the resulting Polygons
will inherit the properties. In that case, any elements from
Polygons without properties will be assigned property 0.
If all input objects are without properties, so will be the result.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">M0</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="n">eltype</span><span class="o">=</span><span class="s1">&#39;quad4&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P0</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">M0</span><span class="o">.</span><span class="n">coords</span><span class="p">,</span> <span class="n">M0</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P1</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">M0</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">trl</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">P0</span><span class="p">,</span><span class="n">P1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="go">[[0. 0. 0.]</span>
<span class="go">[1. 0. 0.]</span>
<span class="go">[1. 1. 0.]</span>
<span class="go">[0. 1. 0.]</span>
<span class="go">[1. 0. 0.]</span>
<span class="go">[2. 0. 0.]</span>
<span class="go">[2. 1. 0.]</span>
<span class="go">[1. 1. 0.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="go">Varray (3, (3, 4))</span>
<span class="go">  [0 1 2 3]</span>
<span class="go">  [4 5 6]</span>
<span class="go">  [4 6 7]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">fuse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="go">[[0. 0. 0.]</span>
<span class="go"> [0. 1. 0.]</span>
<span class="go"> [1. 0. 0.]</span>
<span class="go"> [1. 1. 0.]</span>
<span class="go"> [2. 0. 0.]</span>
<span class="go"> [2. 1. 0.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="go">Varray (3, (3, 4))</span>
<span class="go">  [0 2 3 1]</span>
<span class="go">  [2 4 5]</span>
<span class="go">  [2 5 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.fuse">
<code class="sig-name descname">fuse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.fuse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.fuse" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuse the nodes of a Polygons.</p>
<p>Nodes that are within the tolerance limits of each other
are merged into a single node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodes</strong> (int <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a>, optional) – A list of node numbers. If provided, only these nodes will be
involved in the fuse operation.</p></li>
<li><p><strong>**kargs</strong> – Extra arguments for tuning the fuse operation are passed to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">coords.Coords:fuse()</span></code> method.</p></li>
<li><p><strong>Examples</strong> (see <a class="reference internal" href="#polygons.Polygons.concatenate" title="polygons.Polygons.concatenate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">concatenate()</span></code></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.compact">
<code class="sig-name descname">compact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.compact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.compact" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unconnected nodes and renumber the Polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Polygons</em> – The input object, where any unconnected nodes have been removed
and the nodes are renumbered to a compacter scheme.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This changes the object in-place.</p>
<p>If the node-numbering has been changed, the object will have
an attribute ‘oldnumbers’ which is an int array giving the
old node number for in the position of the new node number.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Coords</span><span class="p">([[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="go">[[0. 0. 0.]</span>
<span class="go"> [1. 0. 0.]</span>
<span class="go"> [2. 0. 0.]</span>
<span class="go"> [3. 0. 0.]</span>
<span class="go"> [4. 0. 0.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P1</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">compact</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P1</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="go">[[0. 0. 0.]</span>
<span class="go"> [1. 0. 0.]</span>
<span class="go"> [2. 0. 0.]</span>
<span class="go"> [3. 0. 0.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P1</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="go">Varray (2, (3, 4))</span>
<span class="go">  [0 1 2]</span>
<span class="go">  [2 3 1 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P1</span> <span class="ow">is</span> <span class="n">P</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">oldnumbers</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span><span class="o">.</span><span class="n">compact</span><span class="p">()</span>
<span class="go">&lt;pyformex.polygons.Polygons object at ...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="go">[[1. 0. 0.]</span>
<span class="go"> [2. 0. 0.]</span>
<span class="go"> [3. 0. 0.]</span>
<span class="go"> [4. 0. 0.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="go">Varray (2, (3, 4))</span>
<span class="go">  [3 0 1]</span>
<span class="go">  [1 2 0 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">oldnumbers</span><span class="p">)</span>
<span class="go">[1 2 3 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.reduce">
<code class="sig-name descname">reduce</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mplex</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.reduce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce the Polygons to a specified maximum plexitude.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mplex</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The maximal plexitude of the output polygons. Thus, with mplex=3
only triangles will results; mplex=4 will yield triangles and quads.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Polygons</em> – A Polygons where all of the polygons with more than mplex vertices
have been split into smaller ones.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Splitting a polygon is done along the shortest diagonal.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#polygons.Polygons.split" title="polygons.Polygons.split"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code></a></dt><dd><p>split (and optionally reduce) the Polygons into Mesh objects.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Coords</span><span class="p">([[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">P</span> <span class="o">=</span> <span class="n">Polygons</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="go">Varray (4, (3, 4))</span>
<span class="go">  [0 1 2]</span>
<span class="go">  [0 1 2]</span>
<span class="go">  [0 1 2 3]</span>
<span class="go">  [2 3 4 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">elems</span><span class="p">)</span>
<span class="go">Varray (6, (3, 3))</span>
<span class="go">  [0 1 2]</span>
<span class="go">  [0 1 2]</span>
<span class="go">  [0 1 2]</span>
<span class="go">  [2 3 4]</span>
<span class="go">  [2 3 0]</span>
<span class="go">  [4 0 2]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mplex</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the Polygons into Meshes of fixed plexitude</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mplex</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a><em>, </em><em>optional</em>) – The maximal plexitude of the resulting Meshes. Thus, with mplex=3
only triangles will results; mplex=4 will yield triangles and quads.
If needed, polygons will be split up to be smaller that the
maximum plexitude. If not provided, the original plexitudes
are kept.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>list of Mesh</em> – A list of Mesh objects with plexitude &gt;= 3.
The eltype of the Mesh objects is Tri3, Quad4 or Poly# for
plexitudes &gt; 4. All the Mesh objects use the same coords object.
The list is sorted in order of increasing plexitude.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>While reducing and splitting the Polygons can also be achieved with
<code class="docutils literal notranslate"><span class="pre">self.reduce(mplex).split()</span></code>, using the mplex argument here is
slightly faster.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#polygons.Polygons.reduce" title="polygons.Polygons.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce</span></code></a></dt><dd><p>reduce the maximum plexitude of the polygons</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.toSurface">
<code class="sig-name descname">toSurface</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'reduce'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.toSurface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.toSurface" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the Polygons to a TriSurface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – <p>The method to use to convert polygons into triangles. One of:</p>
<ul class="simple">
<li><p>’reduce’: use the <a class="reference internal" href="#polygons.Polygons.reduce" title="polygons.Polygons.reduce"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reduce()</span></code></a> method, splitting the polygons
along the shortest diagonals. This is the default.</p></li>
<li><p>’fan’: split the polygons into a fan of triangles with apex
at the first point. This corresponds to hoe the polygons are
rendered.</p></li>
<li><p>’prune’: simply removes all non-triangle polygons.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Currently, the ‘reduce’ method does not retain the ‘prop’ values.</p>
</dd></dl>

<dl class="py method">
<dt id="polygons.Polygons.pzf_dict">
<code class="sig-name descname">pzf_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#Polygons.pzf_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.Polygons.pzf_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct common part of all Geometry pzf dicts</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-polygons">
<h2><span class="section-number">34.2. </span>Functions defined in module polygons<a class="headerlink" href="#functions-defined-in-module-polygons" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="polygons.nodalVSum">
<code class="sig-prename descclassname">polygons.</code><code class="sig-name descname">nodalVSum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">val</span></em>, <em class="sig-param"><span class="n">elems</span></em>, <em class="sig-param"><span class="n">nnod</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/polygons.html#nodalVSum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#polygons.nodalVSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the nodal sum of values defined at polygon vertices.</p>
<p>This is like <a class="reference internal" href="arraytools.html#arraytools.nodalSum" title="arraytools.nodalSum"><code class="xref py py-func docutils literal notranslate"><span class="pre">arraytools.nodalSum()</span></code></a>, but where elems is defined
as a Varray and val contains the value in order of that Varray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<em>float array</em><em> (</em><em>nsize</em><em>, </em><em>nval</em><em>)</em>) – Defines nval values at elems.nsize vertices.</p></li>
<li><p><strong>elems</strong> (<a class="reference internal" href="varray.html#varray.Varray" title="varray.Varray"><em>Varray</em></a>) – The node indices of nelems polygons.</p></li>
<li><p><strong>nnod</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The number of nodes. This should be higher than the maximum
value in elems. If not specified, it will be set to the highest
value in elems + 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>sum</strong> (<em>float ndarray (nnod, nval)</em>) – The sum of all the values at the same node.</p></li>
<li><p><strong>cnt</strong> (<em>int ndarray (nnod)</em>) – The number of values summed at each node.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="process.html" title="35. process — Executing external commands."
             >next</a> |</li>
        <li class="right" >
          <a href="path.html" title="33. path — Object oriented filesystem paths."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">34. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">polygons</span></code> — Polygon meshes.</a></li--> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2023, Benedict Verhegghe.
    </span>
      Last updated on Mar 27, 2023.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.4.3.
    </span>
    </div>
  </body>
</html>