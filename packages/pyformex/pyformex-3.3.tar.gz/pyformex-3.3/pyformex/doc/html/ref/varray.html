

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>44. varray — Working with variable width tables. &#8212; pyFormex 3.3 documentation</title>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="45. gui.appMenu — Menu with pyFormex apps." href="gui.appMenu.html" />
    <link rel="prev" title="43. utils — A collection of miscellaneous utility functions." href="utils.html" />
<link rel="icon" type="image/png" href="../_static/pyformex_fav.png" />

  </head><body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="../_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="../_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gui.appMenu.html" title="45. gui.appMenu — Menu with pyFormex apps."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="utils.html" title="43. utils — A collection of miscellaneous utility functions."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">44. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">varray</span></code> — Working with variable width tables.</a></li--> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_SIDEBAR_LOGO -->
<!-- PYFORMEX_WEBSITE_SIDEBAR_TOP -->

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">44. <code class="xref py py-mod docutils literal notranslate"><span class="pre">varray</span></code> — Working with variable width tables.</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-varray">44.1. Classes defined in module varray</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-varray">44.2. Functions defined in module varray</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="utils.html"
                        title="previous chapter"><span class="section-number">43. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">utils</span></code> — A collection of miscellaneous utility functions.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="gui.appMenu.html"
                        title="next chapter"><span class="section-number">45. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">gui.appMenu</span></code> — Menu with pyFormex apps.</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-varray">
<span id="varray-working-with-variable-width-tables"></span><span id="sec-ref-varray"></span><h1><span class="section-number">44. </span><a class="reference internal" href="#module-varray" title="varray: Working with variable width tables."><code class="xref py py-mod docutils literal notranslate"><span class="pre">varray</span></code></a> — Working with variable width tables.<a class="headerlink" href="#module-varray" title="Permalink to this headline">¶</a></h1>
<p>Mesh type geometries use tables of integer data to store the connectivity
between different geometric entities. The basic connectivity table in a
Mesh with elements of the same type is a table of constant width: the
number of nodes connected to each element is constant.
However, the inverse table (the elements connected to each node) does not
have a constant width.</p>
<p>Tables of constant width can conveniently be stored as a 2D array, allowing
fast indexing by row and/or column number. A variable width table can be
stored (using arrays) in two ways:</p>
<ul class="simple">
<li><p>as a 2D array, with a width equal to the maximal row length.
Unused positions in the row are then filled with an invalid value (-1).</p></li>
<li><p>as a 1D array, storing a simple concatenation of the rows.
An additional array then stores the position in that array of the first
element of each row.</p></li>
</ul>
<p>In pyFormex, variable width tables were initially stored as 2D arrays:
a remnant of the author’s past FORTRAN experience. With a growing
professional use of pyFormex involving ever larger models, it became clear
that there was a large memory and speed penalty related to the use of
2D arrays with lots of unused entries.
This is illustrated in the following table, obtained on the
inversion of a connectivity table of 10000 rows and 25 columns.
The table shows the memory size of the inverse table, the time needed to
compute it, and the time to compute both tables. The latter involves an
extra conversion of the stored array to the other data type.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 23%" />
<col style="width: 22%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Stored as:</p></th>
<th class="head"><p>2D (ndarray)</p></th>
<th class="head"><p>1D (Varray)</p></th>
<th class="head"><p>1D (Varray)</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Rows are sorted:</p></th>
<th class="head"><p>yes</p></th>
<th class="head"><p>yes</p></th>
<th class="head"><p>no</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>Memory size</p></td>
<td><p>450000</p></td>
<td><p>250000</p></td>
<td><p>250000</p></td>
</tr>
<tr class="row-even"><td><p>Time to create table</p></td>
<td><p>128 ms</p></td>
<td><p>49 ms</p></td>
<td><p>25ms</p></td>
</tr>
<tr class="row-odd"><td><p>Time to create both</p></td>
<td><p>169 ms</p></td>
<td><p>82 ms</p></td>
<td><p>57ms</p></td>
</tr>
</tbody>
</table>
<p>The memory and speed gains of using the Varray are important.
The 2D array can even be faster generated by first creating the
1D array, and then converting that to 2D.
Not sorting the entries in the Varray provides a further gain.
The Varray class defined below therefore does not sort the rows
by default, but provides methods to sort them when needed.</p>
<div class="section" id="classes-defined-in-module-varray">
<h2><span class="section-number">44.1. </span>Classes defined in module varray<a class="headerlink" href="#classes-defined-in-module-varray" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="varray.Varray">
<em class="property">class </em><code class="sig-prename descclassname">varray.</code><code class="sig-name descname">Varray</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">ind</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray" title="Permalink to this definition">¶</a></dt>
<dd><p>A variable width 2D integer array</p>
<p>This class provides an efficient way to store tables of
nonnegative integers when the rows of the table may have
different length.</p>
<p>For large tables this may allow an important memory saving
compared to a rectangular array where the non-existent entries
are filled by some special value.
Data in the Varray are stored as a single 1D array,
containing the concatenation of all rows.
An index is kept with the start position of each row in the 1D array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – <p>Data to initialize to a new Varray object. This can either of:</p>
<ul>
<li><p>another Varray instance: a shallow copy of the Varray is created.</p></li>
<li><p>a list of lists of integers. Each item in the list contains
one row of the table.</p></li>
<li><p>a 2D ndarray of integer type. The nonnegative numbers on each row
constitute the data for that row.</p></li>
<li><p>a 1D array or list of integers, containing the concatenation of
the rows. The second argument <cite>ind</cite> specifies the indices of the
first element of each row.</p></li>
<li><p>a 1D array or list of integers, containing the concatenation of
the rows obtained by prepending each row with the row length.
The caller should make sure these 1D data are consistent.</p></li>
</ul>
</p></li>
<li><p><strong>ind</strong> (1-dim int <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a>, optional) – This is only used when <cite>data</cite> is a pure concatenation of all rows.
It holds the position in <cite>data</cite> of the first element of each row.
Its length is equal to the number of rows (<cite>nrows</cite>) or <cite>nrows+1</cite>.
It is a non-decreasing series of integer values, starting with 0.
If it has <code class="docutils literal notranslate"><span class="pre">nrows+1</span></code> entries, the last value is equal to the total
number of elements in <cite>data</cite>. This last value may be omitted,
and will then be added automatically.
Note that two subsequent elements may be equal, corresponding with
an empty row.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Create a Varray from a nested list:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span>
<span class="go">Varray([[0], [1, 2], [0, 2, 4], [0, 2]])</span>
</pre></div>
</div>
<p>The Varray prints in a user-friendly format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="p">)</span>
<span class="go">Varray (4, (1, 3))</span>
<span class="go">  [0]</span>
<span class="go">  [1 2]</span>
<span class="go">  [0 2 4]</span>
<span class="go">  [0 2]</span>
</pre></div>
</div>
<p>The internal data are 1-D arrays:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">[0 1 2 0 2 4 0 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">ind</span><span class="p">)</span>
<span class="go">[0 1 3 6 8]</span>
</pre></div>
</div>
<p>Other initialization methods resulting in the same Varray:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Vb</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">(</span><span class="n">Va</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">Vb</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">Va</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vb</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">Vb</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">Va</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vc</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">at</span><span class="o">.</span><span class="n">cumsum0</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">Vc</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">Va</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Vd</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">Vd</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">Va</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Show info about the Varray</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">nrows</span><span class="p">,</span> <span class="n">Va</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">Va</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="go">4 (1, 3) (4, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">Va</span><span class="o">.</span><span class="n">lengths</span><span class="p">)</span>
<span class="go">8 [1 2 3 2]</span>
</pre></div>
</div>
<p>Indexing: The data for any row can be obtained by simple indexing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[1 2]</span>
</pre></div>
</div>
<p>This is equivalent with</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[1 2]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[0 2]</span>
</pre></div>
</div>
<p>Change elements:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[3 2]</span>
</pre></div>
</div>
<p>Full row can be changed with matching length:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[1 2]</span>
</pre></div>
</div>
<p>Negative indices are allowed:</p>
<p>Extracted columns are filled with -1 values where needed</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[-1  2  2  2]</span>
</pre></div>
</div>
<p>Select takes multiple rows using indices or bool:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="go">Varray (2, (2, 2))</span>
<span class="go">  [1 2]</span>
<span class="go">  [0 2]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">lengths</span><span class="o">==</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Varray (2, (2, 2))</span>
<span class="go">  [1 2]</span>
<span class="go">  [0 2]</span>
</pre></div>
</div>
<p>Iterator: A Varray provides its own iterator:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">Va</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="go">[0]</span>
<span class="go">[1 2]</span>
<span class="go">[0 2 4]</span>
<span class="go">[0 2]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Varray</span><span class="p">())</span>
<span class="go">Varray (0, (0, 0))</span>
</pre></div>
</div>
<dl class="py method">
<dt id="varray.Varray.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a deep copy of the Varray</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.lengths">
<em class="property">property </em><code class="sig-name descname">lengths</code><a class="headerlink" href="#varray.Varray.lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the length of all rows of the Varray</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.nrows">
<em class="property">property </em><code class="sig-name descname">nrows</code><a class="headerlink" href="#varray.Varray.nrows" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of rows in the Varray</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#varray.Varray.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of elements in the Varray</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#varray.Varray.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple with the number of rows and maximum row length</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.dtype">
<em class="property">property </em><code class="sig-name descname">dtype</code><a class="headerlink" href="#varray.Varray.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the data type of the elements in the Varray</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.length">
<code class="sig-name descname">length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the length of row i</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.row">
<code class="sig-name descname">row</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the data for the row i.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The index of the row to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>1-dim int array</em> – An array with the values of row i</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The same is obtained by simple indexing. See the examples.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[1 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[1 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.rowslice">
<code class="sig-name descname">rowslice</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.rowslice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.rowslice" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a slice object for the row i.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The index of the row to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>slice</em> – A slice object representing the set of indices for row i</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">rowslice</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">slice(3, 6, None)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">Va</span><span class="o">.</span><span class="n">rowslice</span><span class="p">(</span><span class="mi">2</span><span class="p">)])</span>
<span class="go">[0 2 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.rowlimits">
<code class="sig-name descname">rowlimits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.rowlimits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.rowlimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for row slice limits</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">Va</span><span class="o">.</span><span class="n">rowlimits</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="go">(0, 1)</span>
<span class="go">(1, 3)</span>
<span class="go">(3, 6)</span>
<span class="go">(6, 8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.index1d">
<code class="sig-name descname">index1d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">j</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.index1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.index1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sequential index for the element with 2D index i,j</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The row index</p></li>
<li><p><strong>j</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The column index</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>int</em> – The sequential index corresponding with position (i,j).</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">index1d</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.index2d">
<code class="sig-name descname">index2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.index2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.index2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 2D index for the element with sequential index k</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The sequential index in the flat array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>i</strong> (<em>int</em>) – The row index of the element with sequential index k</p></li>
<li><p><strong>j</strong> (<em>int</em>) – The column index of the element with sequential index k</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Va</span><span class="o">.</span><span class="n">index2d</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">(2, 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.setRow">
<code class="sig-name descname">setRow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.setRow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.setRow" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the data of row i</p>
<p>This is equivalent to self[i] = data.</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.col">
<code class="sig-name descname">col</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.col"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.col" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the data for column i</p>
<p>This always returns a list of length nrows.
For rows where the column index i is missing, a value -1 is returned.</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.select">
<code class="sig-name descname">select</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sel</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Select some rows from the Varray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sel</strong> (<em>iterable of ints</em><em> or </em><em>bools</em>) – Specifies the row(s) to be selected.
If type is int, the values are the row numbers.
If type is bool, the length of the iterable should be
exactly <code class="docutils literal notranslate"><span class="pre">self.nrows</span></code>; the positions where the value is True are
the rows to be returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Varray object</em> – A Varray with only the selected rows.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="o">.</span><span class="n">select</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Varray([[1, 2], [0, 2]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="o">.</span><span class="n">select</span><span class="p">((</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">))</span>
<span class="go">Varray([[1, 2], [0, 2]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.rowindex">
<code class="sig-name descname">rowindex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sel</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.rowindex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.rowindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the rowindex for the elements flagged by selector sel.</p>
<p>sel is either a list of element numbers or a bool array with
length self.size</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.colindex">
<code class="sig-name descname">colindex</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sel</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.colindex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.colindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the column index for the elements flagged by selector sel.</p>
<p>sel is either a list of element numbers or a bool array with
length self.size</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sel</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a selector to an index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sel</strong> (<em>iterable of ints</em><em> or </em><em>bools</em>) – Specifies the elements of the Varray to be selected.
If type is int, the values are the index numbers in the
flat array. If type is bool, the length of the iterable
should be exactly <code class="docutils literal notranslate"><span class="pre">self.size</span></code>; the positions where the
value is True will be returned.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>int array</em> – The selected element numbers.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="o">.</span><span class="n">index</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="go">array([1, 3, 5, 7])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="o">.</span><span class="n">index</span><span class="p">((</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">))</span>
<span class="go">array([1, 3, 5, 7])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.where">
<code class="sig-name descname">where</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sel</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.where"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.where" title="Permalink to this definition">¶</a></dt>
<dd><p>Return row and column index of the selected elements</p>
<p>sel is either a list of element numbers or a bool array with
length self.size</p>
<p>Returns a 2D array where the first column is the row index
and the second column the corresponding column index of an
element selected by sel</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="o">.</span><span class="n">where</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
<span class="go">array([[1, 0],</span>
<span class="go">       [2, 0],</span>
<span class="go">       [2, 2],</span>
<span class="go">       [3, 1]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.sorted">
<code class="sig-name descname">sorted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.sorted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.sorted" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sorted Varray.</p>
<p>Returns a Varray with the same entries but where each
row is sorted.</p>
<p>This returns a copy of the data, and leaves the original
unchanged.</p>
<p>See also <a class="reference internal" href="#varray.Varray.sort" title="varray.Varray.sort"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sort()</span></code></a> for sorting the rows inplace.</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.roll">
<code class="sig-name descname">roll</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shift</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.roll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.roll" title="Permalink to this definition">¶</a></dt>
<dd><p>Roll the elements row by row.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shift</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The number of places by which elements are shifted. Positive
values shift to the right.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Varray</em> – A Varray containing on each row the entries from the input
Varray shifted ofter the specified number of places.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">roll</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Varray([[0], [3, 0, 1, 2], [4, 0, 2]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.removeFlat">
<code class="sig-name descname">removeFlat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ind</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.removeFlat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.removeFlat" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the element with flat index i</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ind</strong> (int or int <a class="reference internal" href="../glossary.html#term-array_like"><span class="xref std std-term">array_like</span></a>) – Index in the flat data of the element(s) to remove.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Varray</em> – A Varray with the element(s) ind removed.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="o">.</span><span class="n">removeFlat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Varray([[0], [1, 2], [2, 4], [0, 2]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span><span class="o">.</span><span class="n">removeFlat</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
<span class="go">Varray([[], [1], [0, 2, 4], [0]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.sort">
<code class="sig-name descname">sort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.sort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the Varray inplace.</p>
<p>Sorting a Varray sorts the elements in each row.
The sorting is done inplace.</p>
<p>See also <a class="reference internal" href="#varray.Varray.sorted" title="varray.Varray.sorted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sorted()</span></code></a> for sorting the rows without
changing the original.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">va</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">va</span><span class="p">)</span>
<span class="go">Varray (4, (1, 3))</span>
<span class="go">  [0]</span>
<span class="go">  [1 2]</span>
<span class="go">  [0 2 4]</span>
<span class="go">  [0 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.toArray">
<code class="sig-name descname">toArray</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.toArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.toArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the Varray to a 2D array.</p>
<p>Returns a 2D array with shape (self.nrows,self.maxwidth), containing
the row data of the Varray.
Rows which are shorter than width are padded at the start with
values -1.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">toArray</span><span class="p">()</span>
<span class="go">array([[-1, -1,  0],</span>
<span class="go">       [-1,  2,  1],</span>
<span class="go">       [ 4,  0,  2],</span>
<span class="go">       [-1,  0,  2]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">toArray</span><span class="p">()</span>
<span class="go">array([[0, 3],</span>
<span class="go">       [2, 1],</span>
<span class="go">       [4, 0],</span>
<span class="go">       [0, 2]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.sameLength">
<code class="sig-name descname">sameLength</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.sameLength"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.sameLength" title="Permalink to this definition">¶</a></dt>
<dd><p>Groups the rows according to their length.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>lengths</strong> (<em>list</em>) – the sorted unique row lengths</p></li>
<li><p><strong>rows</strong> (<em>list</em>) – the indices of the rows having the corresponding length.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="p">,</span><span class="n">R</span> <span class="o">=</span> <span class="n">Va</span><span class="o">.</span><span class="n">sameLength</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">[1 2 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">[array([0]), array([1, 3]), array([2])]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the Varray into 2D arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>list</em> – A list of 2D arrays where all the rows of VA with the same number</p></li>
<li><p><em>of columns are collected. The list is sorted in order of increasing</em></p></li>
<li><p><em>number of columns.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Va</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">Va</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[[0]]</span>
<span class="go">[[1 2]</span>
<span class="go"> [0 2]]</span>
<span class="go">[[0 2 4]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.toList">
<code class="sig-name descname">toList</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.toList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.toList" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the Varray to a nested list.</p>
<p>Returns a list of lists of integers.</p>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.inverse">
<code class="sig-name descname">inverse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">expand</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse of a Varray.</p>
<p>The inverse of a Varray is again a Varray. Values k on a row i will
become values i on row k. The number of data in both Varrays is thus
the same.</p>
<p>The inverse of the inverse is equal to the original. Two Varrays are
equal if they have the same number of rows and all rows contain the
same numbers, independent of their order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – If True (default), the values on each row of the returned index
are sorted.
The default (False) will leave the values in the order obtained
by the algorithm, which depends on Python/numpy sorting, and
usually turns out to be sorted as well.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><a class="reference internal" href="#varray.Varray" title="varray.Varray"><code class="xref py py-class docutils literal notranslate"><span class="pre">Varray</span></code></a></p></li>
<li><p><em>The inverse index, as a Varray (default).</em></p></li>
<li><p>Each row <code class="docutils literal notranslate"><span class="pre">i</span></code> of the inverse contains the numbers of the rows of the</p></li>
<li><p>input in which a value <code class="docutils literal notranslate"><span class="pre">i</span></code> appeared. The rows are sorted by default.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
<span class="go">Varray (4, (1, 2))</span>
<span class="go">  [0 1]</span>
<span class="go">  [2 0]</span>
<span class="go">  [1 2]</span>
<span class="go">  [4]</span>
<span class="go"> Varray (5, (0, 2))</span>
<span class="go">  [0 1]</span>
<span class="go">  [0 2]</span>
<span class="go">  [1 2]</span>
<span class="go">  []</span>
<span class="go">  [3]</span>
<span class="go"> Varray (4, (1, 2))</span>
<span class="go">  [0 1]</span>
<span class="go">  [0 2]</span>
<span class="go">  [1 2]</span>
<span class="go">  [4]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">inverse</span><span class="p">())</span>
<span class="go">Varray (4, (1, 3))</span>
<span class="go">  [0 1 3]</span>
<span class="go">  [0 2 2]</span>
<span class="go">  [1 2]</span>
<span class="go">  [3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.concatenate">
<em class="property">classmethod </em><code class="sig-name descname">concatenate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">varrays</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.concatenate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.concatenate" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate a list of Varrays to a single Varray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>varrays</strong> (<em>list of Varray</em>) – The list of Varrays to concatenate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Varray</em> – The concatenated Varrays.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VA0</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">VA1</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">VA2</span> <span class="o">=</span> <span class="n">Varray</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],[</span><span class="mi">9</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">VA</span> <span class="o">=</span> <span class="n">Varray</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">VA0</span><span class="p">,</span><span class="n">VA1</span><span class="p">,</span><span class="n">VA2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">VA</span><span class="p">)</span>
<span class="go">Varray (5, (1, 3))</span>
<span class="go">  [0 1]</span>
<span class="go">  [2 3 4]</span>
<span class="go">  [5 6]</span>
<span class="go">  [7 8]</span>
<span class="go">  [9]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="varray.Varray.fromArrays">
<em class="property">classmethod </em><code class="sig-name descname">fromArrays</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arrays</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#Varray.fromArrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.Varray.fromArrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate a list of 2D int arrays into a Varray</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">VA</span> <span class="o">=</span> <span class="n">Varray</span><span class="o">.</span><span class="n">fromArrays</span><span class="p">([</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">]],</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">VA</span><span class="p">)</span>
<span class="go">Varray (7, (2, 3))</span>
<span class="go">  [1 1]</span>
<span class="go">  [2 2]</span>
<span class="go">  [3 3 3]</span>
<span class="go">  [4 4 4]</span>
<span class="go">  [5 5]</span>
<span class="go">  [6 6]</span>
<span class="go">  [7 7]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-varray">
<h2><span class="section-number">44.2. </span>Functions defined in module varray<a class="headerlink" href="#functions-defined-in-module-varray" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="varray.graphColors">
<code class="sig-prename descclassname">varray.</code><code class="sig-name descname">graphColors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">adj</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/varray.html#graphColors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#varray.graphColors" title="Permalink to this definition">¶</a></dt>
<dd><p>Colorizes all nodes of a graph using Welsh-Powell algorithm.</p>
<p>The algorithm determines a color scheme thus that no two connected
nodes of a graph have the same color. While not guaranteeing to be
the optimal solution, it usually is a very close. This function can
for example be used to determine a color scheme for different areas
on a planar map, such that no two touching regions will have the same
color.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>adj</strong> (<a class="reference internal" href="../glossary.html#term-varray_like"><span class="xref std std-term">varray_like</span></a>) – An adjacency array where each row <cite>i</cite> lists the nodes connected
to node <cite>i</cite>. It can be a Varray or a regular 2d array padded with
-1 entries to have constant row length.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>int array</em> – An 1-d int array with the color palette numbers for the nodes.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="gui.appMenu.html" title="45. gui.appMenu — Menu with pyFormex apps."
             >next</a> |</li>
        <li class="right" >
          <a href="utils.html" title="43. utils — A collection of miscellaneous utility functions."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">44. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">varray</span></code> — Working with variable width tables.</a></li--> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2023, Benedict Verhegghe.
    </span>
      Last updated on Mar 27, 2023.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.4.3.
    </span>
    </div>
  </body>
</html>