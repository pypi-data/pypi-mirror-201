

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>76. plugins.isopar — Isoparametric transformations &#8212; pyFormex 3.3 documentation</title>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="77. plugins.isosurface — Isosurface: surface reconstruction algorithms" href="plugins.isosurface.html" />
    <link rel="prev" title="75. plugins.imagearray — Convert bitmap images into numpy arrays." href="plugins.imagearray.html" />
<link rel="icon" type="image/png" href="../_static/pyformex_fav.png" />

  </head><body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="../_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="../_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plugins.isosurface.html" title="77. plugins.isosurface — Isosurface: surface reconstruction algorithms"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plugins.imagearray.html" title="75. plugins.imagearray — Convert bitmap images into numpy arrays."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">76. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">plugins.isopar</span></code> — Isoparametric transformations</a></li--> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_SIDEBAR_LOGO -->
<!-- PYFORMEX_WEBSITE_SIDEBAR_TOP -->

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">76. <code class="xref py py-mod docutils literal notranslate"><span class="pre">plugins.isopar</span></code> — Isoparametric transformations</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-plugins-isopar">76.1. Classes defined in module plugins.isopar</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-plugins-isopar">76.2. Functions defined in module plugins.isopar</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="plugins.imagearray.html"
                        title="previous chapter"><span class="section-number">75. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">plugins.imagearray</span></code> — Convert bitmap images into numpy arrays.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plugins.isosurface.html"
                        title="next chapter"><span class="section-number">77. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">plugins.isosurface</span></code> — Isosurface: surface reconstruction algorithms</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-plugins.isopar">
<span id="plugins-isopar-isoparametric-transformations"></span><span id="sec-ref-plugins-isopar"></span><h1><span class="section-number">76. </span><a class="reference internal" href="#module-plugins.isopar" title="plugins.isopar: Isoparametric transformations"><code class="xref py py-mod docutils literal notranslate"><span class="pre">plugins.isopar</span></code></a> — Isoparametric transformations<a class="headerlink" href="#module-plugins.isopar" title="Permalink to this headline">¶</a></h1>
<div class="section" id="classes-defined-in-module-plugins-isopar">
<h2><span class="section-number">76.1. </span>Classes defined in module plugins.isopar<a class="headerlink" href="#classes-defined-in-module-plugins-isopar" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="plugins.isopar.Isopar">
<em class="property">class </em><code class="sig-prename descclassname">plugins.isopar.</code><code class="sig-name descname">Isopar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eltype</span></em>, <em class="sig-param"><span class="n">coords</span></em>, <em class="sig-param"><span class="n">oldcoords</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plugins/isopar.html#Isopar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plugins.isopar.Isopar" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing an isoparametric transformation</p>
<blockquote>
<div><p>eltype is one of the keys in Isopar.isodata
coords and oldcoords can be either arrays, Coords or Formex instances,
but should be of equal shape, and match the number of atoms in the
specified transformation type</p>
</div></blockquote>
<p>The following three formulations are equivalent</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">trf</span> <span class="o">=</span> <span class="n">Isopar</span><span class="p">(</span><span class="n">eltype</span><span class="p">,</span><span class="n">coords</span><span class="p">,</span><span class="n">oldcoords</span><span class="p">)</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">isopar</span><span class="p">(</span><span class="n">trf</span><span class="p">)</span>

<span class="n">trf</span> <span class="o">=</span> <span class="n">Isopar</span><span class="p">(</span><span class="n">eltype</span><span class="p">,</span><span class="n">coords</span><span class="p">,</span><span class="n">oldcoords</span><span class="p">)</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">trf</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>

<span class="n">G</span> <span class="o">=</span> <span class="n">isopar</span><span class="p">(</span><span class="n">F</span><span class="p">,</span><span class="n">eltype</span><span class="p">,</span><span class="n">coords</span><span class="p">,</span><span class="n">oldcoords</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="plugins.isopar.Isopar.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plugins/isopar.html#Isopar.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plugins.isopar.Isopar.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply isoparametric transform to a set of coordinates.</p>
<p>Returns a Coords array with same shape as X</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-plugins-isopar">
<h2><span class="section-number">76.2. </span>Functions defined in module plugins.isopar<a class="headerlink" href="#functions-defined-in-module-plugins-isopar" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="plugins.isopar.exponents">
<code class="sig-prename descclassname">plugins.isopar.</code><code class="sig-name descname">exponents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">'lag'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plugins/isopar.html#exponents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plugins.isopar.exponents" title="Permalink to this definition">¶</a></dt>
<dd><p>Create tuples of polynomial exponents.</p>
<p>Create the exponents of polynomials in 1 to 3 dimensions
which can be used to construct interpolation function over lagrangian,
triangular or serendipity grids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>tuple of int</em>) – A tuple of 1 to 3 integers, specifying the degree of the polynomials
in the x up to z directions. For a lagrangian layout, this is one less
than the number of points in each direction.</p></li>
<li><p><strong>layout</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – A string specifying the layout of the grid and the selection of
monomials to be used. Should be one of ‘lagrangian’, ‘triangular’,
‘serendipity’ or ‘border’. The string can be abbreviated to its
first 3 characters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>int array</em> – An integer array with shape (ndim,npoints), where ndim = len(n)
and npoints depends on the layout:</p>
<ul class="simple">
<li><p>lagrangian: npoints = prod(n). The point layout is a rectangular
lagrangian grid form by n[i] points in direction i. As an example,
specifying n=(3,2) uses a grid of 3 points in x-direction and 2 points
in y-direction.</p></li>
<li><p>triangular: requires that all values in n are equal. For ndim=2, the
number of points is n*(n+1)//2.</p></li>
<li><p>border: this is like the lagrangian grid with all internal points
removed. For ndim=2, we have npoints = 2 * sum(n) - 4. For ndim=3 we
have npoints = 2 * sum(nx*ny+ny*nz+nz*nx) - 4 * sum(n) + 8.
Thus n=(3,3,3) will yield 2*3*3*3 - 4*(3+3+3) + 8 = 26</p></li>
<li><p>serendipity: tries to use only the corner and edge nodes, but uses
a convex domain of the monomials. This may require some nodes inside
the faces or the volume. Currently works up to (4,4) in 2D or (3,3,3)
in 3D.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#plugins.isopar.interpoly" title="plugins.isopar.interpoly"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpoly</span></code></a></dt><dd><p>Returns the corresponding interpolation polynomial</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Quadratic in x, linear in y:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exponents</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="go">array([[0, 0],</span>
<span class="go">       [1, 0],</span>
<span class="go">       [2, 0],</span>
<span class="go">       [0, 1],</span>
<span class="go">       [1, 1],</span>
<span class="go">       [2, 1]])</span>
</pre></div>
</div>
<p>Linear in x,y,x:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exponents</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="go">array([[0, 0, 0],</span>
<span class="go">       [1, 0, 0],</span>
<span class="go">       [0, 1, 0],</span>
<span class="go">       [1, 1, 0],</span>
<span class="go">       [0, 0, 1],</span>
<span class="go">       [1, 0, 1],</span>
<span class="go">       [0, 1, 1],</span>
<span class="go">       [1, 1, 1]])</span>
</pre></div>
</div>
<p>Quadratic serendipity in x,y:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exponents</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;ser&#39;</span><span class="p">)</span>
<span class="go">array([[0, 0],</span>
<span class="go">       [1, 0],</span>
<span class="go">       [2, 0],</span>
<span class="go">       [0, 1],</span>
<span class="go">       [1, 1],</span>
<span class="go">       [2, 1],</span>
<span class="go">       [0, 2],</span>
<span class="go">       [1, 2]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="plugins.isopar.interpoly">
<code class="sig-prename descclassname">plugins.isopar.</code><code class="sig-name descname">interpoly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">'lag'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/plugins/isopar.html#interpoly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#plugins.isopar.interpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an interpolation polynomial.</p>
<p>This is syntactical sugar for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Polynomial</span><span class="p">(</span><span class="n">exponents</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">layout</span><span class="p">))</span>
</pre></div>
</div>
<p>Parameters: see <a class="reference internal" href="#plugins.isopar.exponents" title="plugins.isopar.exponents"><code class="xref py py-func docutils literal notranslate"><span class="pre">exponents()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Polynomial</em> – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Polynomial</span></code> constructed from the <a class="reference internal" href="#plugins.isopar.exponents" title="plugins.isopar.exponents"><code class="xref py py-func docutils literal notranslate"><span class="pre">exponents()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plugins.isosurface.html" title="77. plugins.isosurface — Isosurface: surface reconstruction algorithms"
             >next</a> |</li>
        <li class="right" >
          <a href="plugins.imagearray.html" title="75. plugins.imagearray — Convert bitmap images into numpy arrays."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">76. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">plugins.isopar</span></code> — Isoparametric transformations</a></li--> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2023, Benedict Verhegghe.
    </span>
      Last updated on Mar 27, 2023.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.4.3.
    </span>
    </div>
  </body>
</html>