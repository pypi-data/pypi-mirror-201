

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!--
##
##  This file is part of the pyFormex project.
##  pyFormex is a tool for generating, manipulating and transforming 3D
##  geometrical models by sequences of mathematical operations.
##  Home page: http://pyformex.org
##  Project page:  http://savannah.nongnu.org/projects/pyformex/
##  Copyright (C) Benedict Verhegghe (benedict.verhegghe@ugent.be)
##  Distributed under the GNU General Public License version 3 or later.
##
##
##  This program is free software: you can redistribute it and/or modify
##  it under the terms of the GNU General Public License as published by
##  the Free Software Foundation, either version 3 of the License, or
##  (at your option) any later version.
##
##  This program is distributed in the hope that it will be useful,
##  but WITHOUT ANY WARRANTY; without even the implied warranty of
##  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
##  GNU General Public License for more details.
##
##  You should have received a copy of the GNU General Public License
##  along with this program.  If not, see http://www.gnu.org/licenses/.
##
-->
    <title>37. pzffile — A multifunctional file format for saving pyFormex geometry or projects. &#8212; pyFormex 3.3 documentation</title>

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pyformex.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="38. simple — Predefined geometries with a simple shape." href="simple.html" />
    <link rel="prev" title="36. project — project.py" href="project.html" />
<link rel="icon" type="image/png" href="../_static/pyformex_fav.png" />

  </head><body>

<div class="header">
  <a href="http://pyformex.org">
  <img src="../_static/scallop_dome_small.png" alt="scallop dome" border="0" hspace="20" vspace="12" align="left" />
  <img src="../_static/pyformex-logo-2.png" alt="pyformex logo" border="0" hspace="10" vspace="8" align="left" />
  </a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simple.html" title="38. simple — Predefined geometries with a simple shape."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="project.html" title="36. project — project.py"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" accesskey="U">pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">37. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">pzffile</span></code> — A multifunctional file format for saving pyFormex geometry or projects.</a></li--> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<!-- PYFORMEX_SIDEBAR_LOGO -->
<!-- PYFORMEX_WEBSITE_SIDEBAR_TOP -->

  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">37. <code class="xref py py-mod docutils literal notranslate"><span class="pre">pzffile</span></code> — A multifunctional file format for saving pyFormex geometry or projects.</a><ul>
<li><a class="reference internal" href="#classes-defined-in-module-pzffile">37.1. Classes defined in module pzffile</a></li>
<li><a class="reference internal" href="#functions-defined-in-module-pzffile">37.2. Functions defined in module pzffile</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="project.html"
                        title="previous chapter"><span class="section-number">36. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">project</span></code> — project.py</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="simple.html"
                        title="next chapter"><span class="section-number">38. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">simple</span></code> — Predefined geometries with a simple shape.</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pzffile">
<span id="pzffile-a-multifunctional-file-format-for-saving-pyformex-geometry-or-projects"></span><span id="sec-ref-pzffile"></span><h1><span class="section-number">37. </span><a class="reference internal" href="#module-pzffile" title="pzffile: A multifunctional file format for saving pyFormex geometry or projects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pzffile</span></code></a> — A multifunctional file format for saving pyFormex geometry or projects.<a class="headerlink" href="#module-pzffile" title="Permalink to this headline">¶</a></h1>
<p>This module defines the PzfFile class which is the new implementation of
the PZF file format.</p>
<div class="section" id="classes-defined-in-module-pzffile">
<h2><span class="section-number">37.1. </span>Classes defined in module pzffile<a class="headerlink" href="#classes-defined-in-module-pzffile" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pzffile.Config">
<em class="property">class </em><code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">Config</code><a class="reference internal" href="../_modules/pzffile.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>A very simple config parser.</p>
<p>This class contains two static functions: ‘dumps’ to dump
a dict to a string, and ‘loads’ to load back the dict from
the string.</p>
<p>The string format is such that it can easily be read and
edited. Each of the items in the dict is stored on a line
of the form ‘key = repr(value)’. On loading back, each line
is split on the first appearance of a ‘=’. The first part
is stripped and used as key, the second part is eval’ed and
used as value.</p>
<dl class="py method">
<dt id="pzffile.Config.dumps">
<em class="property">static </em><code class="sig-name descname">dumps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#Config.dumps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.Config.dumps" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump a dict to a string in Config format.</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.Config.loads">
<em class="property">static </em><code class="sig-name descname">loads</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#Config.loads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.Config.loads" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a dict from a string in Config format</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pzffile.PzfFile">
<em class="property">class </em><code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">PzfFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile" title="Permalink to this definition">¶</a></dt>
<dd><p>An archive file in PZF format.</p>
<p>PZF stands for ‘pyFormex zip format’. A complete description of the
format and API is given in <a class="reference internal" href="../file-formats.html#cha-fileformats"><span class="std std-ref">pyFormex file formats</span></a>.</p>
<p>This is the implementation of version 2.0 of the PZF file format.
The format has minor changes from the (unpublished) 1.0 version
and is able to read (but not write) the older format.</p>
<p>A PZF file is actually a ZIP archive, written with the standard Python
ZipFile module. Thus, its contents are individual files. In the
current format 2.0, the PzfFile writer creates only three types of files,
marked by their suffix:</p>
<ul class="simple">
<li><p>.npy: a file containing a single NumPy array in Numpy’s .npy format;</p></li>
<li><p>.txt: a file containing text in a utf-8 encoding;</p></li>
<li><p>no suffix: an empty file: the info is in the file name.</p></li>
</ul>
<p>The filename carry important information though. Usually they follow the
scheme name__class__attr, where name is the object name, class the object’s
class name (to be used on loading) and attr is the name of the attribute
that has its data in the file. Files without suffix have their information
in the filename.</p>
<p>Saving objects to a PZF file is as simple as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PzfFile</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
</pre></div>
</div>
<p>Each of the keyword arguments provided specifies an object to be saved
with the keyword as its name.</p>
<p>To load the objects from a PZF file, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dic</span> <span class="o">=</span>  <span class="n">PzfFile</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<p>This returns a dict containing the pyFormex objects with their names as
keys.</p>
<p>Limitations: currently, only objects of the following classes can be stored:
str, dict, numpy.ndarray,
Coords, Formex, Mesh, TriSurface, PolyLine, BezierSpline, CoordSys,
Camera, Canvas settings.
Using the API (see <a class="reference internal" href="../file-formats.html#cha-fileformats"><span class="std std-ref">pyFormex file formats</span></a>) this can however
easily be extended to any other class of objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference internal" href="../glossary.html#term-path_like"><span class="xref std std-term">path_like</span></a>) – Name of the file from which to load the objects.
It is normally a file with extension ‘.pzf’.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>See also the example SaveLoad.</p>
<dl class="py method">
<dt id="pzffile.PzfFile.write_metadata">
<code class="sig-name descname">write_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zipf</span></em>, <em class="sig-param"><span class="n">compress</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the metadata</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.write_files">
<code class="sig-name descname">write_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">savedict</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'w'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.write_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.write_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a dict to a PZF file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>savedict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><em>dict</em></a>) – Dict with object attributes to store. The keys are subdirectory
names in objname:classname format. The values are dicts with
the indiviudal filenames as keys and values that are either str,
dict or array_like.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">_camera</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">_canvas</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">_compress</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">_append</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save pyFormex objects to the PZF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kargs</strong> (<em>keyword arguments</em>) – The objects to be saved. Each object will be saved with a name
equal to the keyword argument. The keyword should not end with
an underscore ‘_’, nor contain a double underscore ‘__’. Keywords
starting with a single underscore are reserved for special use
and should not be used for any other object.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Reserved keywords:
- ‘_camera’: stores the current camerasettings
- ‘_canvas’: stores the full canvas layout and camera settings
- ‘_compress’</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">utils</span><span class="o">.</span><span class="n">TempDir</span><span class="p">()</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">pzf</span> <span class="o">=</span> <span class="n">PzfFile</span><span class="p">(</span><span class="n">d</span> <span class="o">/</span> <span class="s1">&#39;myzip.pzf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>See also example SaveLoad.</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add objects to an existing PZF file.</p>
<p>This is a convenient wrapper of <a class="reference internal" href="#pzffile.PzfFile.save" title="pzffile.PzfFile.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> with the <cite>_add</cite> argument
set to True.</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.read_format">
<code class="sig-name descname">read_format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zipf</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.read_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.read_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the format</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.read_metadata">
<code class="sig-name descname">read_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zipf</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.read_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.read_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the metadata</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.read_files">
<code class="sig-name descname">read_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.read_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.read_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Read files from a ZipFile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>files</strong> (<em>list|str</em><em>, </em><em>optional</em>) – A list of filenames to read. Default is to read all files.
The filenames may contain * and ? wildcards. For convenience,
a single string may be specified and will be put in a list.
Thus, <code class="docutils literal notranslate"><span class="pre">read_files('F:*')</span></code> will read all files related to the object
named ‘F’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>dict</em> – A dict with the filenames as keys and the interpreted
file contents as values. Files ending in ‘.npy’ are returned
as a numpy array. Files ending in ‘.txt’ are returned as a
(multiline) string except if the stem of the filename ends
in one of ‘:c’, ‘:j’ or ‘:r’, in which case a dict is
returned.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pzffile.PzfFile.load" title="pzffile.PzfFile.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a></dt><dd><p>read files and convert the contents to pyFormex objects.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objects</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load pyFormex objects from a file in PZF format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>objects</strong> (<em>list of str</em><em>, </em><em>optional</em>) – A list of specification strings to delimit the objects loaded
from the PZF file. Each object spec should be in the format
name:class and can contain * and ? wildcards.
Thus <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">'F:*',</span> <span class="pre">'M*:Mesh'</span> <span class="pre">]</span></code> will load the object named ‘F’
and all objects of class Mesh whose name starts with an ‘M’.
Default is to load all objects contained in the archive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>dict</em> – A dict with the objects read from the file. The keys in the dict
are the object names used when creating the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the returned dict contains a camera setting, the camera can be
restored as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="s1">&#39;_camera&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
    <span class="n">pf</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">initCamera</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;_camera&#39;</span><span class="p">])</span>
    <span class="n">pf</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>See also example SaveLoad.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></dt><dd><p>read files and return contents as arrays, dicts and strings.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.version">
<code class="sig-name descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the version of the PZF format</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.metadata">
<code class="sig-name descname">metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get metadata from a ZipFile</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.files">
<code class="sig-name descname">files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.files" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the filenames</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.objects">
<code class="sig-name descname">objects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list with the objects stored in the PZF files</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.extract">
<code class="sig-name descname">extract</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.extract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the PzfFile to the give path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference internal" href="../glossary.html#term-path_like"><span class="xref std std-term">path_like</span></a>) – Path of the directory where the PZF file should be extracted.</p></li>
<li><p><strong>files</strong> (<em>list of str</em><em>, </em><em>optional</em>) – The list of files to extract. Default is to extract all files.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pzffile.PzfFile.zip" title="pzffile.PzfFile.zip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zip</span></code></a></dt><dd><p>zip the files in a directory into a PZF archive</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.zip">
<code class="sig-name descname">zip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.zip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.zip" title="Permalink to this definition">¶</a></dt>
<dd><p>Zip files from a given path to a PzfFile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference internal" href="../glossary.html#term-path_like"><span class="xref std std-term">path_like</span></a>) – Path of a directory with PZF file contents. This will normally
be a directory where a PZF file was previously extracted.</p></li>
<li><p><strong>files</strong> (<em>list of str</em><em>, </em><em>optional</em>) – The list of files to zip. The file names are relative to path.
Default is to zip all files in path.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This can be used in cli mode on an extracted PZF file.
For example, if a PZF file was extracted to s folder ‘out’,
that folder can be zipped back into a PZF file with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyformex</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;PzfFile(&quot;new.pzf&quot;).zip(&quot;out&quot;)&#39;</span>
</pre></div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pzffile.PzfFile.extract" title="pzffile.PzfFile.extract"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extract</span></code></a></dt><dd><p>extract the files from a PZF archive</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.convert">
<code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a PZF file to the current format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a><em>, </em><em>optional</em>) – Specifies whether the converted file should use compression.
If not provided, compression will be used if the old file did.</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>, </em><em>optional</em>) – Optional name of the output pzf file. This is useful if you
want to keep the original file.
If not provided, the converted file will replace the original.</p></li>
<li><p><strong>compress</strong> – Specify whether the output pzf should use compression or not.
The default is to use compression if the original was compressed.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Newer versions can convert files written with older versions,
but the reverse is not necessarily True.</p>
<p>convert can also be used to compress a previously uncompressed
PZF file of the same version.</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.removeFiles">
<code class="sig-name descname">removeFiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">files</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.removeFiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.removeFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove selected files from the archive</p>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">objects</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the named objects from the archive</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*objects</strong> (<em>sequence of str</em>) – One or more strings specifying the objects to be removed
from the PZF file. Each object spec should be in the format
name:class (as returned by <a class="reference internal" href="#pzffile.PzfFile.objects" title="pzffile.PzfFile.objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">objects()</span></code></a>) and can contain
* and ? wildcards.
Thus <code class="docutils literal notranslate"><span class="pre">remove('F*',</span> <span class="pre">'*:Mesh')</span></code> will remove all objects
whose name starts with an F or that are of class Mesh.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pzffile.PzfFile.read_file">
<code class="sig-name descname">read_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#PzfFile.read_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.PzfFile.read_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the contents of a text file from the zip archive</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions-defined-in-module-pzffile">
<h2><span class="section-number">37.2. </span>Functions defined in module pzffile<a class="headerlink" href="#functions-defined-in-module-pzffile" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pzffile.convert_files_1_0">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">convert_files_1_0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmpdir</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#convert_files_1_0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.convert_files_1_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert files from 1.0 format to 2.0</p>
</dd></dl>

<dl class="py function">
<dt id="pzffile.convert_load_1_0">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">convert_load_1_0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">clas</span></em>, <em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#convert_load_1_0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.convert_load_1_0" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an item from 1.0 format to 2.0</p>
</dd></dl>

<dl class="py function">
<dt id="pzffile.dict2str">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">dict2str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em>, <em class="sig-param"><span class="n">fmt</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#dict2str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.dict2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Nicely format a dict so it can be imported again</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict2str</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">))</span>
<span class="go">a = 0</span>
<span class="go">b = (0, 1)</span>
<span class="go">c = &#39;string&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict2str</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">))</span>
<span class="go">{&quot;a&quot;: 0, &quot;b&quot;: [0, 1], &quot;c&quot;: &quot;string&quot;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dict2str</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">))</span>
<span class="go">{&#39;a&#39;: 0, &#39;b&#39;: (0, 1), &#39;c&#39;: &#39;string&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pzffile.load_object">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">load_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clas</span></em>, <em class="sig-param"><span class="n">kargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#load_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.load_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore an object from the kargs read from file</p>
</dd></dl>

<dl class="py function">
<dt id="pzffile.register">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">clas</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a class in the pzf i/o module</p>
<p>A registered class can be exported to a PZF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>class</em> – The provided class is returned, so that this method can be used as
a decorator. Normally though, one uses the <a class="reference internal" href="utils.html#utils.pzf_register" title="utils.pzf_register"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.pzf_register()</span></code></a>
as decorator.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pzffile.split_format_1_0">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">split_format_1_0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">contents</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#split_format_1_0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.split_format_1_0" title="Permalink to this definition">¶</a></dt>
<dd><p>convert old format string into a metadata dict</p>
</dd></dl>

<dl class="py function">
<dt id="pzffile.str2dict">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">str2dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">fmt</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#str2dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.str2dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a dict from a string representation</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;{&#39;a&#39;: 0, &#39;b&#39;: (0,1), &#39;c&#39;: &#39;string&#39;}&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pzffile.zipfile_write_array">
<code class="sig-prename descclassname">pzffile.</code><code class="sig-name descname">zipfile_write_array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">zipf</span></em>, <em class="sig-param"><span class="n">fname</span></em>, <em class="sig-param"><span class="n">val</span></em>, <em class="sig-param"><span class="n">datetime</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pzffile.html#zipfile_write_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pzffile.zipfile_write_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a numpy array to an open ZipFile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zipf</strong> (<em>ZipFile</em>) – A ZipFIle that is open for writing.</p></li>
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The filename as it will be set in the zip archive.</p></li>
<li><p><strong>val</strong> (<em>ndarray</em>) – The data to be written into the file. It should be a numpy.ndarray
or data that can be converted to one.</p></li>
<li><p><strong>datetime</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em>, </em><em>optional</em>) – The date and time mark to be set on the file. It should be a tuple
of 6 ints: (year, month, day, hour, min, sec). If not provided,
the current date/time is used.</p></li>
<li><p><strong>compress</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, the data will be compressed with the zipfile.ZIP_DEFLATED
method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simple.html" title="38. simple — Predefined geometries with a simple shape."
             >next</a> |</li>
        <li class="right" >
          <a href="project.html" title="36. project — project.py"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyFormex 3.3 documentation</a> &gt;</li>
          <li class="nav-item nav-item-1"><a href="../refman.html" >pyFormex reference manual</a> &gt;</li>
        <!--li class="nav-item nav-item-this"><a href=""><span class="section-number">37. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">pzffile</span></code> — A multifunctional file format for saving pyFormex geometry or projects.</a></li--> 
      </ul>
    </div>
    <div class="footer">
    <span class="left">
        &copy; Copyright 2004-2023, Benedict Verhegghe.
    </span>
      Last updated on Mar 27, 2023.
    <span class="right">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.4.3.
    </span>
    </div>
  </body>
</html>